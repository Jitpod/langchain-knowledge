<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="LangChain 1.0 æ ¸å¿ƒæ¶æ„ - æ·±å…¥ç†è§£ LangChain çš„è®¾è®¡å“²å­¦å’Œæ¨¡å—ç»„ç»‡">
    <title>æ ¸å¿ƒæ¶æ„ | LangChain 1.0 Python çŸ¥è¯†æ–‡æ¡£</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <button class="mobile-menu-button" aria-label="æ‰“å¼€èœå•">â˜°</button>

    <div class="container">
        <!-- ä¾§è¾¹æ å¯¼èˆª -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <h1 class="sidebar-title">ğŸ¦œ LangChain 1.0</h1>
                <p class="sidebar-subtitle">Python å®Œæ•´å­¦ä¹ æŒ‡å—</p>
            </div>

            <ul class="nav-menu">
                <li class="nav-section">
                    <div class="nav-section-title">å¼€å§‹</div>
                    <ul>
                        <li class="nav-item">
                            <a href="index.html" class="nav-link">
                                <span class="nav-icon">ğŸ </span>
                                ä¸»é¡µ
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="nav-section">
                    <div class="nav-section-title">åŸºç¡€ç¯‡</div>
                    <ul>
                        <li class="nav-item">
                            <a href="01-introduction.html" class="nav-link">
                                <span class="nav-icon">ğŸ“–</span>
                                LangChain ç®€ä»‹
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="02-architecture.html" class="nav-link">
                                <span class="nav-icon">ğŸ—ï¸</span>
                                æ ¸å¿ƒæ¶æ„
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="03-models.html" class="nav-link">
                                <span class="nav-icon">ğŸ¤–</span>
                                æ¨¡å‹æ¥å£
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="04-messages.html" class="nav-link">
                                <span class="nav-icon">ğŸ’¬</span>
                                æ¶ˆæ¯ç³»ç»Ÿ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="05-tools.html" class="nav-link">
                                <span class="nav-icon">ğŸ”§</span>
                                å·¥å…·ç³»ç»Ÿ
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="nav-section">
                    <div class="nav-section-title">è¿›é˜¶ç¯‡</div>
                    <ul>
                        <li class="nav-item">
                            <a href="06-agents.html" class="nav-link">
                                <span class="nav-icon">ğŸ¯</span>
                                Agent åŸºç¡€
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="07-middleware.html" class="nav-link">
                                <span class="nav-icon">âš™ï¸</span>
                                ä¸­é—´ä»¶ç³»ç»Ÿ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="08-rag.html" class="nav-link">
                                <span class="nav-icon">ğŸ”</span>
                                RAG è¯¦è§£
                                <span class="nav-badge">é‡ç‚¹</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="09-lcel.html" class="nav-link">
                                <span class="nav-icon">ğŸ”—</span>
                                LCEL è¡¨è¾¾å¼
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="nav-section">
                    <div class="nav-section-title">é«˜çº§åº”ç”¨</div>
                    <ul>
                        <li class="nav-item">
                            <a href="10-runtime.html" class="nav-link">
                                <span class="nav-icon">ğŸ”Œ</span>
                                Runtime ç³»ç»Ÿ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="11-checkpointer.html" class="nav-link">
                                <span class="nav-icon">ğŸ’¾</span>
                                æŒä¹…åŒ–ç³»ç»Ÿ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="12-streaming.html" class="nav-link">
                                <span class="nav-icon">ğŸŒŠ</span>
                                æµå¼è¾“å‡º
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="13-human-in-loop.html" class="nav-link">
                                <span class="nav-icon">ğŸ‘¤</span>
                                äººå·¥ä»‹å…¥
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="14-long-term-memory.html" class="nav-link">
                                <span class="nav-icon">ğŸ—„ï¸</span>
                                é•¿æœŸè®°å¿†
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="15-langgraph.html" class="nav-link">
                                <span class="nav-icon">ğŸ“Š</span>
                                LangGraph
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="nav-section">
                    <div class="nav-section-title">å®æˆ˜ç¯‡</div>
                    <ul>
                        <li class="nav-item">
                            <a href="16-customer-service.html" class="nav-link">
                                <span class="nav-icon">ğŸ‘¥</span>
                                å®¢æœæœºå™¨äºº
                                <span class="nav-badge">é‡ç‚¹</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="17-best-practices.html" class="nav-link">
                                <span class="nav-icon">âœ¨</span>
                                æœ€ä½³å®è·µ
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="nav-section">
                    <div class="nav-section-title">å‚è€ƒç¯‡</div>
                    <ul>
                        <li class="nav-item">
                            <a href="18-api-reference.html" class="nav-link">
                                <span class="nav-icon">ğŸ“š</span>
                                API é€ŸæŸ¥è¡¨
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="19-troubleshooting.html" class="nav-link">
                                <span class="nav-icon">ğŸ›</span>
                                æ•…éšœæ’é™¤
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="20-migration.html" class="nav-link">
                                <span class="nav-icon">ğŸ”„</span>
                                è¿ç§»æŒ‡å—
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="nav-section">
                    <div class="nav-section-title">æ‰©å±•ç¯‡</div>
                    <ul>
                        <li class="nav-item">
                            <a href="21-structured-output.html" class="nav-link">
                                <span class="nav-icon">ğŸ“Š</span>
                                ç»“æ„åŒ–è¾“å‡º
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="nav-section">
                    <div class="nav-section-title">DeepAgents ç¯‡</div>
                    <ul>
                        <li class="nav-item">
                            <a href="22-deepagents-quickstart.html" class="nav-link">
                                <span class="nav-icon">ğŸš€</span>
                                å¿«é€Ÿå¼€å§‹
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="23-deepagents-customization.html" class="nav-link">
                                <span class="nav-icon">ğŸ¨</span>
                                å®šåˆ¶åŒ–
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="24-deepagents-harness.html" class="nav-link">
                                <span class="nav-icon">ğŸ›ï¸</span>
                                Harness ç³»ç»Ÿ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="25-deepagents-backends.html" class="nav-link">
                                <span class="nav-icon">ğŸ”§</span>
                                åç«¯é…ç½®
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="26-deepagents-subagents.html" class="nav-link">
                                <span class="nav-icon">ğŸ‘¥</span>
                                å­ä»£ç†
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="27-deepagents-hitl.html" class="nav-link">
                                <span class="nav-icon">ğŸ¤</span>
                                äººå·¥ä»‹å…¥
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="28-deepagents-memory.html" class="nav-link">
                                <span class="nav-icon">ğŸ§ </span>
                                é•¿æœŸè®°å¿†
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="29-deepagents-middleware.html" class="nav-link">
                                <span class="nav-icon">âš™ï¸</span>
                                ä¸­é—´ä»¶
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="nav-section">
                    <div class="nav-section-title">Multi-Agent ç¯‡</div>
                    <ul>
                        <li class="nav-item">
                            <a href="30-multi-agent-index.html" class="nav-link">
                                <span class="nav-icon">ğŸŒ</span>
                                æ¦‚è¿°
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="31-multi-agent-subagents.html" class="nav-link">
                                <span class="nav-icon">ğŸ‘¥</span>
                                å­ä»£ç†
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="32-multi-agent-handoffs.html" class="nav-link">
                                <span class="nav-icon">ğŸ”„</span>
                                äº¤æ¥æœºåˆ¶
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="33-multi-agent-skills.html" class="nav-link">
                                <span class="nav-icon">ğŸ¯</span>
                                æŠ€èƒ½ç³»ç»Ÿ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="34-multi-agent-router.html" class="nav-link">
                                <span class="nav-icon">ğŸ§­</span>
                                è·¯ç”±æœºåˆ¶
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="35-multi-agent-workflow.html" class="nav-link">
                                <span class="nav-icon">ğŸ”€</span>
                                è‡ªå®šä¹‰å·¥ä½œæµ
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
        </nav>

        <!-- ä¸»å†…å®¹åŒºåŸŸ -->
        <!-- ä¸»å†…å®¹åŒºåŸŸ -->
        <main class="main-content">
            <div class="content-wrapper">
                <!-- é¢åŒ…å±‘å¯¼èˆª -->
                <nav class="breadcrumb">
                    <span class="breadcrumb-item">
                        <a href="index.html" class="breadcrumb-link">ä¸»é¡µ</a>
                    </span>
                    <span class="breadcrumb-item">
                        è¿›é˜¶ç¯‡
                    </span>
                    <span class="breadcrumb-item">
                        Agent åŸºç¡€
                    </span>
                </nav>

                <!-- é¡µé¢æ ‡é¢˜ -->
                <header class="page-header">
                    <h1 class="page-title">ğŸ¯ Agent åŸºç¡€</h1>
                    <p class="page-subtitle">
                        æ·±å…¥ç†è§£ LangChain 1.0 çš„ Agent ç³»ç»Ÿï¼ŒæŒæ¡ create_agent() å‡½æ•°å’Œ ReAct æ¨¡å¼ï¼Œ
                        æ„å»ºæ™ºèƒ½ã€è‡ªä¸»çš„ AI Agentã€‚
                    </p>
                </header>

                <!-- ä»€ä¹ˆæ˜¯ Agent -->
                <section class="content-section">
                    <h2 class="section-title">ğŸ“š ä»€ä¹ˆæ˜¯ Agentï¼Ÿ</h2>
                    <p>
                        <strong>Agent</strong>ï¼ˆæ™ºèƒ½ä½“ï¼‰æ˜¯ä¸€ä¸ªèƒ½å¤Ÿè‡ªä¸»æ¨ç†å¹¶é‡‡å–è¡ŒåŠ¨çš„ AI ç³»ç»Ÿã€‚
                        ä¸ç®€å•çš„ LLM è°ƒç”¨ä¸åŒï¼ŒAgent å¯ä»¥ï¼š
                    </p>
                    <ul>
                        <li><strong>æ¨ç†</strong>ï¼šåˆ†æä»»åŠ¡ï¼Œåˆ¶å®šè®¡åˆ’</li>
                        <li><strong>è¡ŒåŠ¨</strong>ï¼šè°ƒç”¨å·¥å…·ä¸å¤–éƒ¨ç³»ç»Ÿäº¤äº’</li>
                        <li><strong>è§‚å¯Ÿ</strong>ï¼šè·å–å·¥å…·æ‰§è¡Œç»“æœ</li>
                        <li><strong>è¿­ä»£</strong>ï¼šåŸºäºç»“æœè°ƒæ•´ç­–ç•¥ï¼Œç›´åˆ°å®Œæˆä»»åŠ¡</li>
                    </ul>

                    <div class="info-box note">
                        <div class="info-box-title">ğŸ’¡ Agent vs ç®€å• LLM è°ƒç”¨</div>
                        <table style="margin-top: 0.5rem;">
                            <thead>
                                <tr>
                                    <th>ç‰¹æ€§</th>
                                    <th>ç®€å• LLM è°ƒç”¨</th>
                                    <th>Agent</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>æ¨ç†èƒ½åŠ›</strong></td>
                                    <td>å•æ¬¡æ¨ç†</td>
                                    <td>å¤šè½®æ¨ç†å’Œè§„åˆ’</td>
                                </tr>
                                <tr>
                                    <td><strong>å·¥å…·ä½¿ç”¨</strong></td>
                                    <td>æ— </td>
                                    <td>å¯è°ƒç”¨å¤šä¸ªå·¥å…·</td>
                                </tr>
                                <tr>
                                    <td><strong>æ‰§è¡Œæ¨¡å¼</strong></td>
                                    <td>ä¸€æ¬¡æ€§è¾“å…¥è¾“å‡º</td>
                                    <td>å¾ªç¯æ‰§è¡Œç›´åˆ°å®Œæˆ</td>
                                </tr>
                                <tr>
                                    <td><strong>å¤æ‚åº¦</strong></td>
                                    <td>ç®€å•ä»»åŠ¡</td>
                                    <td>å¤æ‚ã€å¤šæ­¥éª¤ä»»åŠ¡</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- ReAct æ¨¡å¼ -->
                <section class="content-section">
                    <h2 class="section-title">ğŸ”„ ReAct æ¨¡å¼ï¼ˆReasoning + Actingï¼‰</h2>
                    <p>
                        LangChain Agent é‡‡ç”¨ <strong>ReAct æ¨¡å¼</strong>ï¼Œç»“åˆæ¨ç†å’Œè¡ŒåŠ¨ï¼š
                    </p>

                    <div class="mermaid-wrapper">
                        <div class="mermaid">
graph LR
    A[ç”¨æˆ·é—®é¢˜] --> B[æ¨ç† Reasoning]
    B --> C{éœ€è¦å·¥å…·ï¼Ÿ}
    C -->|æ˜¯| D[è¡ŒåŠ¨ Acting]
    C -->|å¦| H[ç”Ÿæˆç­”æ¡ˆ]
    D --> E[è°ƒç”¨å·¥å…·]
    E --> F[è§‚å¯Ÿç»“æœ Observing]
    F --> B
    H --> I[è¿”å›ç»“æœ]

    style B fill:#3b82f6,color:#fff
    style D fill:#10b981,color:#fff
    style F fill:#f59e0b,color:#fff
    style I fill:#8b5cf6,color:#fff
                        </div>
                    </div>

                    <h3 class="subsection-title">ReAct æµç¨‹ç¤ºä¾‹</h3>
                    <p>å‡è®¾ç”¨æˆ·é—®ï¼š"æ‰¾åˆ°æœ€å—æ¬¢è¿çš„æ— çº¿è€³æœºå¹¶æ£€æŸ¥åº“å­˜"</p>

                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Text</span>
                        </div>
                        <pre><code>æ­¥éª¤ 1 - æ¨ç†ï¼šæµè¡Œåº¦æ˜¯æ—¶æ•ˆæ€§çš„ï¼Œéœ€è¦æœç´¢æœ€æ–°æ•°æ®
æ­¥éª¤ 2 - è¡ŒåŠ¨ï¼šè°ƒç”¨ search_products("wireless headphones")
æ­¥éª¤ 3 - è§‚å¯Ÿï¼šè·å¾—å‰ 5 ä¸ªç»“æœï¼Œç¬¬ä¸€åæ˜¯ WH-1000XM5

æ­¥éª¤ 4 - æ¨ç†ï¼šéœ€è¦ç¡®è®¤è¯¥äº§å“çš„åº“å­˜æƒ…å†µ
æ­¥éª¤ 5 - è¡ŒåŠ¨ï¼šè°ƒç”¨ check_inventory("WH-1000XM5")
æ­¥éª¤ 6 - è§‚å¯Ÿï¼šåº“å­˜ 10 ä»¶

æ­¥éª¤ 7 - æœ€ç»ˆç­”æ¡ˆï¼š
"WH-1000XM5 æ˜¯ç›®å‰æœ€å—æ¬¢è¿çš„æ— çº¿è€³æœºï¼Œåº“å­˜ 10 ä»¶ã€‚"</code></pre>
                    </div>

                    <div class="info-box tip">
                        <div class="info-box-title">âœ… ReAct çš„ä¼˜åŠ¿</div>
                        <ul>
                            <li><strong>é€æ˜æ€§</strong>ï¼šå¯ä»¥çœ‹åˆ° Agent çš„æ¨ç†è¿‡ç¨‹</li>
                            <li><strong>å¯æ§æ€§</strong>ï¼šæ¯æ­¥éƒ½æœ‰æ˜ç¡®çš„è¾“å…¥è¾“å‡º</li>
                            <li><strong>å¯è°ƒè¯•</strong>ï¼šå®¹æ˜“å®šä½é—®é¢˜ç¯èŠ‚</li>
                            <li><strong>é«˜æ•ˆæ€§</strong>ï¼šåªåœ¨éœ€è¦æ—¶è°ƒç”¨å·¥å…·</li>
                        </ul>
                    </div>
                </section>

                <!-- create_agent() å‡½æ•°è¯¦è§£ -->
                <section class="content-section">
                    <h2 class="section-title">âš™ï¸ create_agent() å‡½æ•°è¯¦è§£</h2>
                    <p>
                        <code>create_agent()</code> æ˜¯ LangChain 1.0 åˆ›å»º Agent çš„æ ¸å¿ƒå‡½æ•°ã€‚
                        å®ƒæ„å»ºäº†ä¸€ä¸ªåŸºäº LangGraph çš„å›¾å½¢åŒ–è¿è¡Œæ—¶ã€‚
                    </p>

                    <h3 class="subsection-title">åŸºç¡€ç”¨æ³•</h3>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <span class="code-difficulty basic">ğŸŸ¢ åŸºç¡€</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python">"""
create_agent() åŸºç¡€ç¤ºä¾‹
åŠŸèƒ½ï¼šåˆ›å»ºä¸€ä¸ªå¸¦æœç´¢å’Œå¤©æ°”å·¥å…·çš„ç®€å• Agent
"""
from langchain.agents import create_agent
from langchain.tools import tool

# å®šä¹‰å·¥å…·
@tool
def search(query: str) -> str:
    """æœç´¢ä¿¡æ¯"""
    return f"æœç´¢ç»“æœï¼š{query}"

@tool
def get_weather(location: str) -> str:
    """è·å–å¤©æ°”ä¿¡æ¯"""
    return f"{location} çš„å¤©æ°”ï¼šæ™´æœ—ï¼Œ22Â°C"

# åˆ›å»º Agent
agent = create_agent(
    model="gpt-4",              # æ¨¡å‹æ ‡è¯†ç¬¦ï¼ˆå­—ç¬¦ä¸²ï¼‰
    tools=[search, get_weather], # å·¥å…·åˆ—è¡¨
    system_prompt="ä½ æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„åŠ©æ‰‹ã€‚è¯·ç®€æ´å‡†ç¡®åœ°å›ç­”é—®é¢˜ã€‚"
)

# è°ƒç”¨ Agent
result = agent.invoke({
    "messages": [{"role": "user", "content": "æ—§é‡‘å±±ä»Šå¤©å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ"}]
})

print(result["messages"][-1].content)</code></pre>
                    </div>

                    <h3 class="subsection-title">æ ¸å¿ƒå‚æ•°è¯´æ˜</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>å‚æ•°</th>
                                <th>ç±»å‹</th>
                                <th>è¯´æ˜</th>
                                <th>ç¤ºä¾‹</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>model</code></td>
                                <td>str æˆ– ChatModel</td>
                                <td>æ¨ç†å¼•æ“</td>
                                <td><code>"gpt-4"</code> æˆ– <code>ChatOpenAI()</code></td>
                            </tr>
                            <tr>
                                <td><code>tools</code></td>
                                <td>list</td>
                                <td>å¯ç”¨å·¥å…·åˆ—è¡¨</td>
                                <td><code>[tool1, tool2]</code></td>
                            </tr>
                            <tr>
                                <td><code>system_prompt</code></td>
                                <td>str</td>
                                <td>Agent è¡Œä¸ºæŒ‡å—</td>
                                <td><code>"ä½ æ˜¯ä¸“ä¸šçš„åŠ©æ‰‹"</code></td>
                            </tr>
                            <tr>
                                <td><code>middleware</code></td>
                                <td>list</td>
                                <td>æ‰©å±•é’©å­</td>
                                <td><code>[custom_middleware]</code></td>
                            </tr>
                            <tr>
                                <td><code>state_schema</code></td>
                                <td>TypedDict</td>
                                <td>è‡ªå®šä¹‰çŠ¶æ€ç»“æ„</td>
                                <td><code>CustomState</code></td>
                            </tr>
                            <tr>
                                <td><code>response_format</code></td>
                                <td>Strategy</td>
                                <td>ç»“æ„åŒ–è¾“å‡º</td>
                                <td><code>ToolStrategy(Model)</code></td>
                            </tr>
                        </tbody>
                    </table>

                    <h3 class="subsection-title">é«˜çº§é…ç½®ï¼šå®Œæ•´æ§åˆ¶</h3>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <span class="code-difficulty intermediate">ğŸŸ¡ ä¸­çº§</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python">"""
create_agent() é«˜çº§é…ç½®ç¤ºä¾‹
åŠŸèƒ½ï¼šä½¿ç”¨ ChatModel å®ä¾‹è¿›è¡Œç²¾ç»†æ§åˆ¶
"""
from langchain_openai import ChatOpenAI
from langchain.agents import create_agent
from langchain.tools import tool

@tool
def calculator(expression: str) -> str:
    """è®¡ç®—æ•°å­¦è¡¨è¾¾å¼"""
    try:
        result = eval(expression)  # ä»…ç”¨äºæ¼”ç¤ºï¼Œç”Ÿäº§ç¯å¢ƒéœ€å®‰å…¨å¤„ç†
        return f"è®¡ç®—ç»“æœï¼š{result}"
    except Exception as e:
        return f"è®¡ç®—é”™è¯¯ï¼š{str(e)}"

# ä½¿ç”¨ ChatModel å®ä¾‹è¿›è¡Œç²¾ç»†é…ç½®
model = ChatOpenAI(
    model="gpt-4",
    temperature=0.1,     # é™ä½éšæœºæ€§ï¼Œæé«˜å‡†ç¡®æ€§
    max_tokens=1000,     # é™åˆ¶è¾“å‡ºé•¿åº¦
    timeout=30,          # è®¾ç½®è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
    max_retries=2        # å¤±è´¥é‡è¯•æ¬¡æ•°
)

# åˆ›å»º Agent
agent = create_agent(
    model=model,
    tools=[calculator],
    system_prompt="""ä½ æ˜¯ä¸€ä¸ªç²¾ç¡®çš„æ•°å­¦åŠ©æ‰‹ã€‚

èŒè´£ï¼š
1. ä½¿ç”¨ calculator å·¥å…·è®¡ç®—æ•°å­¦è¡¨è¾¾å¼
2. è§£é‡Šè®¡ç®—æ­¥éª¤
3. ç¡®ä¿ç»“æœå‡†ç¡®æ— è¯¯

æ³¨æ„ï¼š
- åªå¤„ç†æ•°å­¦ç›¸å…³çš„é—®é¢˜
- å¯¹äºéæ•°å­¦é—®é¢˜ï¼Œç¤¼è²Œåœ°æ‹’ç»"""
)

# æµ‹è¯•
result = agent.invoke({
    "messages": [{"role": "user", "content": "è®¡ç®— (123 + 456) * 2 ç­‰äºå¤šå°‘ï¼Ÿ"}]
})

print(result["messages"][-1].content)</code></pre>
                    </div>
                </section>

                <!-- system_prompt è®¾è®¡ -->
                <section class="content-section">
                    <h2 class="section-title">ğŸ“ system_prompt è®¾è®¡æŠ€å·§</h2>
                    <p>
                        <code>system_prompt</code> å®šä¹‰äº† Agent çš„è¡Œä¸ºã€è§’è‰²å’Œå·¥ä½œæ–¹å¼ã€‚
                        å¥½çš„æç¤ºè¯æ˜¯æˆåŠŸ Agent çš„å…³é”®ã€‚
                    </p>

                    <h3 class="subsection-title">æç¤ºè¯ç»“æ„æ¨¡æ¿</h3>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <span class="code-difficulty intermediate">ğŸŸ¡ ä¸­çº§</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python">"""
ä¼˜ç§€çš„ system_prompt æ¨¡æ¿
"""
SYSTEM_PROMPT = """# è§’è‰²å®šä¹‰
ä½ æ˜¯ [è§’è‰²åç§°]ï¼Œä¸“é—¨è´Ÿè´£ [ä¸»è¦èŒè´£]ã€‚

# æ ¸å¿ƒèŒè´£
1. [èŒè´£1]
2. [èŒè´£2]
3. [èŒè´£3]

# å·¥ä½œæµç¨‹
å½“ç”¨æˆ·æå‡ºè¯·æ±‚æ—¶ï¼š
- æ­¥éª¤1ï¼š[åˆ†æéœ€æ±‚]
- æ­¥éª¤2ï¼š[è°ƒç”¨å·¥å…·]
- æ­¥éª¤3ï¼š[æ•´åˆç»“æœ]
- æ­¥éª¤4ï¼š[ç”Ÿæˆå›å¤]

# å·¥å…·ä½¿ç”¨
ä½ æœ‰ä»¥ä¸‹å·¥å…·å¯ç”¨ï¼š
- tool1ï¼š[ç”¨é€”å’Œä½¿ç”¨æ—¶æœº]
- tool2ï¼š[ç”¨é€”å’Œä½¿ç”¨æ—¶æœº]

# å›å¤é£æ ¼
- ç®€æ´ï¼šç›´æ¥å›ç­”é—®é¢˜
- å‡†ç¡®ï¼šåŸºäºå·¥å…·è¿”å›çš„å®é™…æ•°æ®
- å‹å¥½ï¼šä¿æŒç¤¼è²Œå’Œä¸“ä¸š

# é™åˆ¶å’Œæ³¨æ„äº‹é¡¹
- ä¸è¦ï¼š[ç¦æ­¢è¡Œä¸º]
- å¿…é¡»ï¼š[å¼ºåˆ¶è¦æ±‚]
- å¦‚æœé‡åˆ° [æƒ…å†µ]ï¼Œåˆ™ [å¤„ç†æ–¹å¼]
"""

# ä½¿ç”¨ç¤ºä¾‹
from langchain.agents import create_agent

agent = create_agent(
    model="gpt-4",
    tools=[...],
    system_prompt=SYSTEM_PROMPT
)</code></pre>
                    </div>

                    <h3 class="subsection-title">åŠ¨æ€ system_prompt</h3>
                    <p>æ ¹æ®ç”¨æˆ·è§’è‰²æˆ–ä¸Šä¸‹æ–‡åŠ¨æ€ç”Ÿæˆæç¤ºè¯ï¼š</p>

                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <span class="code-difficulty advanced">ğŸ”´ é«˜çº§</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python">"""
åŠ¨æ€ system_prompt ç¤ºä¾‹
åŠŸèƒ½ï¼šæ ¹æ®ç”¨æˆ·è§’è‰²ç”Ÿæˆä¸åŒçš„æç¤ºè¯
"""
from langchain.agents.middleware import dynamic_prompt, ModelRequest
from langchain.agents import create_agent

@dynamic_prompt
def user_role_prompt(request: ModelRequest) -> str:
    """æ ¹æ®ç”¨æˆ·è§’è‰²ç”Ÿæˆç³»ç»Ÿæç¤ºè¯"""
    # ä»è¿è¡Œæ—¶ä¸Šä¸‹æ–‡è·å–ç”¨æˆ·è§’è‰²
    user_role = request.runtime.context.get("user_role", "user")

    base = "ä½ æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„æŠ€æœ¯åŠ©æ‰‹ã€‚"

    if user_role == "expert":
        return f"""{base}

ç”¨æˆ·æ˜¯æŠ€æœ¯ä¸“å®¶ï¼Œä½ åº”è¯¥ï¼š
- æä¾›æ·±å…¥çš„æŠ€æœ¯ç»†èŠ‚
- ä½¿ç”¨ä¸“ä¸šæœ¯è¯­
- å‡è®¾ç”¨æˆ·äº†è§£åŸºç¡€æ¦‚å¿µ
- ç›´æ¥ç»™å‡ºé«˜çº§è§£å†³æ–¹æ¡ˆ"""

    elif user_role == "beginner":
        return f"""{base}

ç”¨æˆ·æ˜¯åˆå­¦è€…ï¼Œä½ åº”è¯¥ï¼š
- ç”¨ç®€å•çš„è¯­è¨€è§£é‡Šæ¦‚å¿µ
- é¿å…å¤æ‚çš„æœ¯è¯­
- æä¾›æ­¥éª¤åŒ–çš„æŒ‡å¯¼
- å¤šç»™ç¤ºä¾‹å’Œç±»æ¯”"""

    else:
        return f"""{base}

æä¾›å¹³è¡¡çš„æŠ€æœ¯è§£é‡Šï¼Œé€‚åˆä¸€èˆ¬å¼€å‘è€…ã€‚"""

# åˆ›å»º Agent
agent = create_agent(
    model="gpt-4",
    tools=[...],
    middleware=[user_role_prompt]
)

# è°ƒç”¨æ—¶æä¾›ç”¨æˆ·è§’è‰²
result = agent.invoke(
    {"messages": [{"role": "user", "content": "ä»€ä¹ˆæ˜¯ Agentï¼Ÿ"}]},
    context={"user_role": "beginner"}  # æŒ‡å®šç”¨æˆ·è§’è‰²
)</code></pre>
                    </div>

                    <div class="info-box tip">
                        <div class="info-box-title">âœ… system_prompt æœ€ä½³å®è·µ</div>
                        <ul>
                            <li><strong>æ˜ç¡®æ€§</strong>ï¼šæ¸…æ¥šå®šä¹‰ Agent åº”è¯¥åšä»€ä¹ˆ</li>
                            <li><strong>å…·ä½“æ€§</strong>ï¼šç»™å‡ºå…·ä½“çš„æŒ‡ä»¤å’Œç¤ºä¾‹</li>
                            <li><strong>ç»“æ„åŒ–</strong>ï¼šä½¿ç”¨æ ‡é¢˜ã€åˆ—è¡¨ç»„ç»‡å†…å®¹</li>
                            <li><strong>é™åˆ¶æ€§</strong>ï¼šè¯´æ˜ Agent ä¸åº”è¯¥åšä»€ä¹ˆ</li>
                            <li><strong>å¯æµ‹è¯•</strong>ï¼šæç¤ºè¯åº”è¯¥å¯ä»¥è¢«éªŒè¯å’Œæ”¹è¿›</li>
                        </ul>
                    </div>
                </section>

                <!-- Agent æ‰§è¡Œæµç¨‹ -->
                <section class="content-section">
                    <h2 class="section-title">ğŸ”„ Agent æ‰§è¡Œæµç¨‹</h2>

                    <div class="mermaid-wrapper">
                        <div class="mermaid">
graph TB
    A[ç”¨æˆ·è¾“å…¥] --> B[Agent å¯åŠ¨]
    B --> C[åŠ è½½ system_prompt]
    C --> D[LLM æ¨ç†]
    D --> E{éœ€è¦å·¥å…·ï¼Ÿ}

    E -->|æ˜¯| F[é€‰æ‹©å·¥å…·]
    F --> G[æ‰§è¡Œå·¥å…·]
    G --> H[è·å–ç»“æœ]
    H --> I[æ›´æ–°çŠ¶æ€]
    I --> D

    E -->|å¦| J{è¾¾åˆ°åœæ­¢æ¡ä»¶ï¼Ÿ}
    J -->|å¦| D
    J -->|æ˜¯| K[ç”Ÿæˆæœ€ç»ˆç­”æ¡ˆ]
    K --> L[è¿”å›ç»“æœ]

    style B fill:#3b82f6,color:#fff
    style D fill:#10b981,color:#fff
    style G fill:#f59e0b,color:#fff
    style K fill:#8b5cf6,color:#fff
                        </div>
                    </div>

                    <h3 class="subsection-title">åœæ­¢æ¡ä»¶</h3>
                    <p>Agent åœ¨ä»¥ä¸‹æƒ…å†µä¸‹åœæ­¢æ‰§è¡Œï¼š</p>
                    <ul>
                        <li><strong>æ¨¡å‹è¾“å‡ºæœ€ç»ˆç­”æ¡ˆ</strong>ï¼šLLM å†³å®šä¸å†éœ€è¦å·¥å…·</li>
                        <li><strong>è¾¾åˆ°è¿­ä»£ä¸Šé™</strong>ï¼šé˜²æ­¢æ— é™å¾ªç¯</li>
                        <li><strong>å·¥å…·æ‰§è¡Œå¤±è´¥</strong>ï¼šæ— æ³•ç»§ç»­æ—¶ä¼˜é›…é€€å‡º</li>
                        <li><strong>ç”¨æˆ·ä¸­æ–­</strong>ï¼šHuman-in-the-loop åœºæ™¯</li>
                    </ul>
                </section>

                <!-- æµå¼è¾“å‡º -->
                <section class="content-section">
                    <h2 class="section-title">ğŸ“¡ æµå¼è¾“å‡º Agent</h2>
                    <p>
                        å¯¹äºå¤šæ­¥éª¤ä»»åŠ¡ï¼Œä½¿ç”¨æµå¼è¾“å‡ºå¯ä»¥å®æ—¶çœ‹åˆ° Agent çš„ä¸­é—´æ­¥éª¤ï¼š
                    </p>

                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <span class="code-difficulty intermediate">ğŸŸ¡ ä¸­çº§</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python">"""
Agent æµå¼è¾“å‡ºç¤ºä¾‹
åŠŸèƒ½ï¼šå®æ—¶æ˜¾ç¤º Agent çš„æ¨ç†å’Œå·¥å…·è°ƒç”¨è¿‡ç¨‹
"""
from langchain.agents import create_agent
from langchain.tools import tool

@tool
def search(query: str) -> str:
    """æœç´¢ AI ç›¸å…³æ–°é—»"""
    return f"æ‰¾åˆ°å…³äº '{query}' çš„æœ€æ–°æ–°é—»..."

# åˆ›å»º Agent
agent = create_agent(
    model="gpt-4",
    tools=[search],
    system_prompt="ä½ æ˜¯æ–°é—»åŠ©æ‰‹ï¼Œå¸®åŠ©ç”¨æˆ·æœç´¢æœ€æ–°èµ„è®¯ã€‚"
)

# æµå¼è°ƒç”¨ Agent
print("=== Agent æ‰§è¡Œè¿‡ç¨‹ ===\n")

for chunk in agent.stream(
    {"messages": [{"role": "user", "content": "æœç´¢æœ€æ–°çš„ AI æ–°é—»"}]},
    stream_mode="values"  # æµå¼æ¨¡å¼
):
    # è·å–æœ€æ–°æ¶ˆæ¯
    latest_message = chunk["messages"][-1]

    # å¦‚æœæ˜¯æ–‡æœ¬å†…å®¹
    if latest_message.content:
        print(f"ğŸ’¬ Agent: {latest_message.content}")

    # å¦‚æœæ˜¯å·¥å…·è°ƒç”¨
    elif hasattr(latest_message, 'tool_calls') and latest_message.tool_calls:
        tool_names = [tc['name'] for tc in latest_message.tool_calls]
        print(f"ğŸ”§ è°ƒç”¨å·¥å…·: {', '.join(tool_names)}")

print("\n=== æ‰§è¡Œå®Œæˆ ===")</code></pre>
                    </div>

                    <h3 class="subsection-subtitle">é¢„æœŸè¾“å‡º</h3>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Text</span>
                        </div>
                        <pre><code>=== Agent æ‰§è¡Œè¿‡ç¨‹ ===

ğŸ’¬ Agent: è®©æˆ‘å¸®ä½ æœç´¢æœ€æ–°çš„ AI æ–°é—»
ğŸ”§ è°ƒç”¨å·¥å…·: search
ğŸ’¬ Agent: æ‰¾åˆ°å…³äº 'AI' çš„æœ€æ–°æ–°é—»...
ğŸ’¬ Agent: æ ¹æ®æœç´¢ç»“æœï¼Œè¿™é‡Œæ˜¯æœ€æ–°çš„ AI æ–°é—»æ‘˜è¦...

=== æ‰§è¡Œå®Œæˆ ===</code></pre>
                    </div>
                </section>

                <!-- é”™è¯¯å¤„ç† -->
                <section class="content-section">
                    <h2 class="section-title">ğŸ›¡ï¸ å·¥å…·é”™è¯¯å¤„ç†</h2>
                    <p>
                        ä½¿ç”¨ä¸­é—´ä»¶å¤„ç†å·¥å…·æ‰§è¡Œä¸­çš„é”™è¯¯ï¼Œæä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼š
                    </p>

                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <span class="code-difficulty advanced">ğŸ”´ é«˜çº§</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python">"""
å·¥å…·é”™è¯¯å¤„ç†ç¤ºä¾‹
åŠŸèƒ½ï¼šä¼˜é›…åœ°å¤„ç†å·¥å…·æ‰§è¡Œé”™è¯¯
"""
from langchain.agents.middleware import wrap_tool_call
from langchain.messages import ToolMessage
from langchain.agents import create_agent
from langchain.tools import tool

@tool
def divide(a: float, b: float) -> float:
    """é™¤æ³•è¿ç®—"""
    return a / b  # å¯èƒ½æŠ›å‡º ZeroDivisionError

# å®šä¹‰é”™è¯¯å¤„ç†ä¸­é—´ä»¶
@wrap_tool_call
def handle_tool_errors(request, handler):
    """æ•è·å¹¶ä¼˜é›…åœ°å¤„ç†å·¥å…·æ‰§è¡Œé”™è¯¯"""
    try:
        # æ‰§è¡Œå·¥å…·
        return handler(request)
    except ZeroDivisionError:
        # é™¤é›¶é”™è¯¯
        return ToolMessage(
            content="é”™è¯¯ï¼šé™¤æ•°ä¸èƒ½ä¸ºé›¶ã€‚è¯·æ£€æŸ¥è¾“å…¥å‚æ•°ã€‚",
            tool_call_id=request.tool_call["id"]
        )
    except Exception as e:
        # å…¶ä»–é”™è¯¯
        return ToolMessage(
            content=f"å·¥å…·æ‰§è¡Œå¤±è´¥ï¼š{str(e)}ã€‚è¯·æ£€æŸ¥è¾“å…¥å¹¶é‡è¯•ã€‚",
            tool_call_id=request.tool_call["id"]
        )

# åˆ›å»ºå¸¦é”™è¯¯å¤„ç†çš„ Agent
agent = create_agent(
    model="gpt-4",
    tools=[divide],
    middleware=[handle_tool_errors],  # åº”ç”¨é”™è¯¯å¤„ç†ä¸­é—´ä»¶
    system_prompt="ä½ æ˜¯æ•°å­¦åŠ©æ‰‹ã€‚å¦‚æœå·¥å…·æ‰§è¡Œå¤±è´¥ï¼Œè¯·å‘ç”¨æˆ·è§£é‡Šé—®é¢˜å¹¶å»ºè®®è§£å†³æ–¹æ¡ˆã€‚"
)

# æµ‹è¯•ï¼šæ­£å¸¸æƒ…å†µ
print("=== æ­£å¸¸æƒ…å†µ ===")
result1 = agent.invoke({
    "messages": [{"role": "user", "content": "10 é™¤ä»¥ 2 ç­‰äºå¤šå°‘ï¼Ÿ"}]
})
print(result1["messages"][-1].content)

# æµ‹è¯•ï¼šé™¤é›¶é”™è¯¯
print("\n=== é™¤é›¶é”™è¯¯ ===")
result2 = agent.invoke({
    "messages": [{"role": "user", "content": "10 é™¤ä»¥ 0 ç­‰äºå¤šå°‘ï¼Ÿ"}]
})
print(result2["messages"][-1].content)</code></pre>
                    </div>
                </section>

                <!-- è°ƒè¯•æŠ€å·§ -->
                <section class="content-section">
                    <h2 class="section-title">ğŸ› Agent è°ƒè¯•æŠ€å·§</h2>

                    <h3 class="subsection-title">1. å¯ç”¨è¯¦ç»†æ—¥å¿—</h3>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python">import logging

# å¯ç”¨ LangChain æ—¥å¿—
logging.basicConfig(level=logging.DEBUG)
logger = logging.getLogger("langchain")
logger.setLevel(logging.DEBUG)</code></pre>
                    </div>

                    <h3 class="subsection-title">2. ä½¿ç”¨ LangSmith è¿½è¸ª</h3>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python">import os

# é…ç½® LangSmith
os.environ["LANGSMITH_API_KEY"] = "your-key"
os.environ["LANGSMITH_TRACING"] = "true"
os.environ["LANGSMITH_PROJECT"] = "agent-debugging"

# ä¹‹åçš„ Agent è°ƒç”¨ä¼šè‡ªåŠ¨è¿½è¸ª</code></pre>
                    </div>

                    <h3 class="subsection-title">3. æ£€æŸ¥ä¸­é—´çŠ¶æ€</h3>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python"># ä½¿ç”¨æµå¼è¾“å‡ºæŸ¥çœ‹æ¯ä¸€æ­¥
for chunk in agent.stream(input_data, stream_mode="values"):
    print(f"æ­¥éª¤: {chunk}")
    print(f"æ¶ˆæ¯æ•°: {len(chunk['messages'])}")
    print(f"æœ€æ–°æ¶ˆæ¯: {chunk['messages'][-1]}")
    print("-" * 50)</code></pre>
                    </div>

                    <h3 class="subsection-subtitle">å¸¸è§é—®é¢˜æ’æŸ¥</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>é—®é¢˜</th>
                                <th>å¯èƒ½åŸå› </th>
                                <th>è§£å†³æ–¹æ¡ˆ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Agent ä¸€ç›´è°ƒç”¨åŒä¸€ä¸ªå·¥å…·</td>
                                <td>å·¥å…·è¿”å›å€¼ä¸æ¸…æ™°</td>
                                <td>æ”¹è¿›å·¥å…·æè¿°å’Œè¿”å›æ ¼å¼</td>
                            </tr>
                            <tr>
                                <td>Agent ä¸è°ƒç”¨å·¥å…·</td>
                                <td>system_prompt ä¸æ˜ç¡®</td>
                                <td>æ˜ç¡®æŒ‡ç¤ºä½•æ—¶ä½¿ç”¨å·¥å…·</td>
                            </tr>
                            <tr>
                                <td>è¾“å‡ºæ ¼å¼ä¸ä¸€è‡´</td>
                                <td>ç¼ºå°‘ç»“æ„åŒ–è¾“å‡º</td>
                                <td>ä½¿ç”¨ response_format å‚æ•°</td>
                            </tr>
                            <tr>
                                <td>æ‰§è¡Œè¶…æ—¶</td>
                                <td>æ— é™å¾ªç¯æˆ–å·¥å…·æ…¢</td>
                                <td>è®¾ç½®è¿­ä»£ä¸Šé™å’Œè¶…æ—¶</td>
                            </tr>
                        </tbody>
                    </table>
                </section>

                <!-- å¸¸è§é—®é¢˜ -->
                <section class="content-section">
                    <h2 class="section-title">â“ å¸¸è§é—®é¢˜</h2>

                    <h3 class="subsection-subtitle">Q1: Agent å¯ä»¥ä¸ä½¿ç”¨å·¥å…·å—ï¼Ÿ</h3>
                    <p>
                        å¯ä»¥ã€‚ä¼ é€’ç©ºçš„å·¥å…·åˆ—è¡¨ <code>tools=[]</code> ä¼šåˆ›å»ºä¸€ä¸ªçº¯ LLM èŠ‚ç‚¹ï¼Œ
                        åªè¿›è¡Œæ¨ç†ä¸æ‰§è¡Œè¡ŒåŠ¨ã€‚
                    </p>

                    <h3 class="subsection-subtitle">Q2: å¦‚ä½•é™åˆ¶ Agent çš„è¿­ä»£æ¬¡æ•°ï¼Ÿ</h3>
                    <p>
                        ç›®å‰ LangChain 1.0 æœ‰é»˜è®¤çš„è¿­ä»£é™åˆ¶ã€‚å¦‚éœ€è‡ªå®šä¹‰ï¼Œå¯ä»¥é€šè¿‡ä¸­é—´ä»¶å®ç°ï¼š
                    </p>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python">from langchain.agents.middleware import before_agent

@before_agent
def limit_iterations(state, runtime):
    """é™åˆ¶ Agent è¿­ä»£æ¬¡æ•°"""
    max_iterations = 10
    current = len([m for m in state["messages"] if m.type == "ai"])

    if current >= max_iterations:
        raise ValueError(f"è¾¾åˆ°æœ€å¤§è¿­ä»£æ¬¡æ•° {max_iterations}")

    return state</code></pre>
                    </div>

                    <h3 class="subsection-subtitle">Q3: å¦‚ä½•åœ¨è¿è¡Œæ—¶åŠ¨æ€é€‰æ‹©æ¨¡å‹ï¼Ÿ</h3>
                    <p>
                        ä½¿ç”¨ <code>@wrap_model_call</code> ä¸­é—´ä»¶æ ¹æ®å¯¹è¯çŠ¶æ€é€‰æ‹©æ¨¡å‹ã€‚
                        è¯¦è§ <a href="07-middleware.html">ä¸­é—´ä»¶ç³»ç»Ÿ</a> ç« èŠ‚ã€‚
                    </p>

                    <h3 class="subsection-subtitle">Q4: Agent çŠ¶æ€å¦‚ä½•æŒä¹…åŒ–ï¼Ÿ</h3>
                    <p>
                        ä½¿ç”¨ <code>checkpointer</code> å‚æ•°ã€‚è¯¦è§ <a href="10-langgraph.html">LangGraph é›†æˆ</a> ç« èŠ‚ã€‚
                    </p>
                </section>

                <!-- å‚è€ƒèµ„æº -->
                <section class="content-section">
                    <h2 class="section-title">ğŸ”— å‚è€ƒèµ„æº</h2>
                    <ul>
                        <li>
                            <a href="https://docs.langchain.com/oss/python/langchain/agents" target="_blank">
                                LangChain å®˜æ–¹ Agents æ–‡æ¡£
                            </a>
                        </li>
                        <li>
                            <a href="https://python.langchain.com/docs/modules/agents/" target="_blank">
                                Agents æ¨¡å—å®Œæ•´æ–‡æ¡£
                            </a>
                        </li>
                        <li>
                            <a href="https://arxiv.org/abs/2210.03629" target="_blank">
                                ReAct è®ºæ–‡ï¼ˆReasoning + Actingï¼‰
                            </a>
                        </li>
                        <li>
                            <a href="https://smith.langchain.com/" target="_blank">
                                LangSmith - Agent è¿½è¸ªå’Œè°ƒè¯•
                            </a>
                        </li>
                    </ul>
                </section>

                <!-- é¡µé¢å¯¼èˆª -->
                                <nav class="page-navigation">
                    <a href="05-tools.html" class="nav-button prev">
                        â† ä¸Šä¸€é¡µï¼šå·¥å…·ç³»ç»Ÿ
                    </a>
                    <a href="07-middleware.html" class="nav-button next">
                        ä¸‹ä¸€é¡µï¼šä¸­é—´ä»¶ç³»ç»Ÿ â†’
                    </a>
                </nav>
            </div>
        </main>
    </div>

    <!-- è¿”å›é¡¶éƒ¨æŒ‰é’® -->
    <button class="back-to-top" aria-label="è¿”å›é¡¶éƒ¨">â†‘</button>

    <!-- JavaScript -->
    <script src="assets/js/mermaid-init.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
</body>
</html>
