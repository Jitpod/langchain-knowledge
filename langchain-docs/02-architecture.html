<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="LangChain 1.0 æ ¸å¿ƒæ¶æ„ - æ·±å…¥ç†è§£ LangChain çš„è®¾è®¡å“²å­¦å’Œæ¨¡å—ç»„ç»‡">
    <title>æ ¸å¿ƒæ¶æ„ | LangChain 1.0 Python çŸ¥è¯†æ–‡æ¡£</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <button class="mobile-menu-button" aria-label="æ‰“å¼€èœå•">â˜°</button>

    <div class="container">
        <!-- ä¾§è¾¹æ å¯¼èˆª -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <h1 class="sidebar-title">ğŸ¦œ LangChain 1.0</h1>
                <p class="sidebar-subtitle">Python å®Œæ•´å­¦ä¹ æŒ‡å—</p>
            </div>

            <ul class="nav-menu">
                <li class="nav-section">
                    <div class="nav-section-title">å¼€å§‹</div>
                    <ul>
                        <li class="nav-item">
                            <a href="index.html" class="nav-link">
                                <span class="nav-icon">ğŸ </span>
                                ä¸»é¡µ
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="nav-section">
                    <div class="nav-section-title">åŸºç¡€ç¯‡</div>
                    <ul>
                        <li class="nav-item">
                            <a href="01-introduction.html" class="nav-link">
                                <span class="nav-icon">ğŸ“–</span>
                                LangChain ç®€ä»‹
                            </a>
                        </li>
                        <li class="nav-item active">
                            <a href="02-architecture.html" class="nav-link">
                                <span class="nav-icon">ğŸ—ï¸</span>
                                æ ¸å¿ƒæ¶æ„
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="03-models.html" class="nav-link">
                                <span class="nav-icon">ğŸ¤–</span>
                                æ¨¡å‹æ¥å£
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="04-messages.html" class="nav-link">
                                <span class="nav-icon">ğŸ’¬</span>
                                æ¶ˆæ¯ç³»ç»Ÿ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="05-tools.html" class="nav-link">
                                <span class="nav-icon">ğŸ”§</span>
                                å·¥å…·ç³»ç»Ÿ
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="nav-section">
                    <div class="nav-section-title">è¿›é˜¶ç¯‡</div>
                    <ul>
                        <li class="nav-item">
                            <a href="06-agents.html" class="nav-link">
                                <span class="nav-icon">ğŸ¯</span>
                                Agent åŸºç¡€
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="07-middleware.html" class="nav-link">
                                <span class="nav-icon">âš™ï¸</span>
                                ä¸­é—´ä»¶ç³»ç»Ÿ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="08-rag.html" class="nav-link">
                                <span class="nav-icon">ğŸ”</span>
                                RAG è¯¦è§£
                                <span class="nav-badge">é‡ç‚¹</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="09-lcel.html" class="nav-link">
                                <span class="nav-icon">ğŸ”—</span>
                                LCEL è¡¨è¾¾å¼
                            </a>
                        </li>
                    </ul>
                </li>

                                <li class="nav-section">
                    <div class="nav-section-title">é«˜çº§åº”ç”¨</div>
                    <ul>
                        <li class="nav-item">
                            <a href="10-runtime.html" class="nav-link">
                                <span class="nav-icon">ğŸ”Œ</span>
                                Runtime ç³»ç»Ÿ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="11-checkpointer.html" class="nav-link">
                                <span class="nav-icon">ğŸ’¾</span>
                                æŒä¹…åŒ–ç³»ç»Ÿ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="12-streaming.html" class="nav-link">
                                <span class="nav-icon">ğŸŒŠ</span>
                                æµå¼è¾“å‡º
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="13-human-in-loop.html" class="nav-link">
                                <span class="nav-icon">ğŸ‘¤</span>
                                äººå·¥ä»‹å…¥
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="14-long-term-memory.html" class="nav-link">
                                <span class="nav-icon">ğŸ—„ï¸</span>
                                é•¿æœŸè®°å¿†
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="15-langgraph.html" class="nav-link">
                                <span class="nav-icon">ğŸ“Š</span>
                                LangGraph
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="16-context-engineering.html" class="nav-link">
                                <span class="nav-icon">ğŸ¯</span>
                                ä¸Šä¸‹æ–‡å·¥ç¨‹
                                <span class="nav-badge">é‡ç‚¹</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="17-mcp.html" class="nav-link">
                                <span class="nav-icon">ğŸ”Œ</span>
                                MCP åè®®
                            </a>
                        </li>
                    </ul>
                </li>


                                <li class="nav-section">
                    <div class="nav-section-title">å®æˆ˜ç¯‡</div>
                    <ul>
                        <li class="nav-item">
                            <a href="18-customer-service.html" class="nav-link">
                                <span class="nav-icon">ğŸ‘¥</span>
                                å®¢æœæœºå™¨äºº
                                <span class="nav-badge">é‡ç‚¹</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="19-best-practices.html" class="nav-link">
                                <span class="nav-icon">âœ¨</span>
                                æœ€ä½³å®è·µ
                            </a>
                        </li>
                    </ul>
                </li>


                                <li class="nav-section">
                    <div class="nav-section-title">å‚è€ƒç¯‡</div>
                    <ul>
                        <li class="nav-item">
                            <a href="20-api-reference.html" class="nav-link">
                                <span class="nav-icon">ğŸ“š</span>
                                API é€ŸæŸ¥è¡¨
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="21-troubleshooting.html" class="nav-link">
                                <span class="nav-icon">ğŸ›</span>
                                æ•…éšœæ’é™¤
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="22-migration.html" class="nav-link">
                                <span class="nav-icon">ğŸ”„</span>
                                è¿ç§»æŒ‡å—
                            </a>
                        </li>
                    </ul>
                </li>


                                <li class="nav-section">
                    <div class="nav-section-title">æ‰©å±•ç¯‡</div>
                    <ul>
                        <li class="nav-item">
                            <a href="23-structured-output.html" class="nav-link">
                                <span class="nav-icon">ğŸ“Š</span>
                                ç»“æ„åŒ–è¾“å‡º
                            </a>
                        </li>
                    </ul>
                </li>


                                <li class="nav-section">
                    <div class="nav-section-title">DeepAgents ç¯‡</div>
                    <ul>
                        <li class="nav-item">
                            <a href="24-deepagents-quickstart.html" class="nav-link">
                                <span class="nav-icon">ğŸš€</span>
                                å¿«é€Ÿå¼€å§‹
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="25-deepagents-customization.html" class="nav-link">
                                <span class="nav-icon">ğŸ¨</span>
                                å®šåˆ¶åŒ–
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="26-deepagents-harness.html" class="nav-link">
                                <span class="nav-icon">ğŸ›ï¸</span>
                                Harness ç³»ç»Ÿ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="27-deepagents-backends.html" class="nav-link">
                                <span class="nav-icon">ğŸ”§</span>
                                åç«¯é…ç½®
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="28-deepagents-subagents.html" class="nav-link">
                                <span class="nav-icon">ğŸ‘¥</span>
                                å­ä»£ç†
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="29-deepagents-hitl.html" class="nav-link">
                                <span class="nav-icon">ğŸ¤</span>
                                äººå·¥ä»‹å…¥
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="30-deepagents-memory.html" class="nav-link">
                                <span class="nav-icon">ğŸ§ </span>
                                é•¿æœŸè®°å¿†
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="31-deepagents-middleware.html" class="nav-link">
                                <span class="nav-icon">âš™ï¸</span>
                                ä¸­é—´ä»¶
                            </a>
                        </li>
                    </ul>
                </li>


                                <li class="nav-section">
                    <div class="nav-section-title">Multi-Agent ç¯‡</div>
                    <ul>
                        <li class="nav-item">
                            <a href="32-multi-agent-index.html" class="nav-link">
                                <span class="nav-icon">ğŸŒ</span>
                                æ¦‚è¿°
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="33-multi-agent-subagents.html" class="nav-link">
                                <span class="nav-icon">ğŸ‘¥</span>
                                å­ä»£ç†
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="34-multi-agent-handoffs.html" class="nav-link">
                                <span class="nav-icon">ğŸ”„</span>
                                äº¤æ¥æœºåˆ¶
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="35-multi-agent-skills.html" class="nav-link">
                                <span class="nav-icon">ğŸ¯</span>
                                æŠ€èƒ½ç³»ç»Ÿ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="36-multi-agent-router.html" class="nav-link">
                                <span class="nav-icon">ğŸ§­</span>
                                è·¯ç”±æœºåˆ¶
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="37-multi-agent-workflow.html" class="nav-link">
                                <span class="nav-icon">ğŸ”€</span>
                                è‡ªå®šä¹‰å·¥ä½œæµ
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
        </nav>

        <!-- ä¸»å†…å®¹åŒºåŸŸ -->
        <main class="main-content">
            <div class="content-wrapper">
                <!-- é¢åŒ…å±‘å¯¼èˆª -->
                <nav class="breadcrumb">
                    <span class="breadcrumb-item">
                        <a href="index.html" class="breadcrumb-link">ä¸»é¡µ</a>
                    </span>
                    <span class="breadcrumb-item">
                        åŸºç¡€ç¯‡
                    </span>
                    <span class="breadcrumb-item">
                        æ ¸å¿ƒæ¶æ„
                    </span>
                </nav>

                <!-- é¡µé¢æ ‡é¢˜ -->
                <header class="page-header">
                    <h1 class="page-title">ğŸ—ï¸ LangChain 1.0 æ ¸å¿ƒæ¶æ„</h1>
                    <p class="page-subtitle">
                        æ·±å…¥ç†è§£ LangChain çš„è®¾è®¡å“²å­¦ã€æ¨¡å—ç»„ç»‡å’Œæ¶æ„æ¼”è¿›ï¼Œ
                        æŒæ¡æ„å»ºç”Ÿäº§çº§ AI åº”ç”¨çš„åŸºç¡€çŸ¥è¯†ã€‚
                    </p>
                </header>

                <!-- ä¸ºä»€ä¹ˆéœ€è¦äº†è§£æ¶æ„ -->
                <section class="content-section">
                    <h2 class="section-title">ğŸ“š ä¸ºä»€ä¹ˆéœ€è¦äº†è§£æ¶æ„ï¼Ÿ</h2>
                    <p>
                        LangChain 1.0 æ˜¯ä¸€ä¸ª<strong>é‡å¤§ç‰ˆæœ¬æ›´æ–°</strong>ï¼Œ
                        ç›¸æ¯” 0.x ç‰ˆæœ¬åœ¨æ¶æ„å’Œ API è®¾è®¡ä¸Šæœ‰æœ¬è´¨å˜åŒ–ã€‚
                        ç†è§£æ ¸å¿ƒæ¶æ„å¯ä»¥å¸®åŠ©ä½ ï¼š
                    </p>

                    <div class="info-box note">
                        <div class="info-box-title">ğŸ’¡ æ¶æ„ç†è§£çš„é‡è¦æ€§</div>
                        <table style="margin-top: 0.5rem;">
                            <thead>
                                <tr>
                                    <th>æ–¹é¢</th>
                                    <th>æ”¶ç›Š</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>æ­£ç¡®é€‰æ‹©æŠ½è±¡</strong></td>
                                    <td>Agent vs Chain vs LCELï¼Œé€‰æ‹©æœ€é€‚åˆåœºæ™¯çš„æ¨¡å¼</td>
                                </tr>
                                <tr>
                                    <td><strong>é¿å…å¸¸è§é™·é˜±</strong></td>
                                    <td>ç†è§£ langchain vs langchain-classic çš„åŒºåˆ«</td>
                                </tr>
                                <tr>
                                    <td><strong>æ›´å¥½çš„è°ƒè¯•</strong></td>
                                    <td>çŸ¥é“æ•°æ®åœ¨å„æ¨¡å—é—´å¦‚ä½•æµåŠ¨</td>
                                </tr>
                                <tr>
                                    <td><strong>æ‰©å±•å’Œå®šåˆ¶</strong></td>
                                    <td>ç†è§£é’©å­å’Œä¸­é—´ä»¶çš„æ‰§è¡Œé¡ºåº</td>
                                </tr>
                                <tr>
                                    <td><strong>æ€§èƒ½ä¼˜åŒ–</strong></td>
                                    <td>è¯†åˆ«ç“¶é¢ˆï¼Œåˆç†ä½¿ç”¨ç¼“å­˜å’Œå¹¶è¡Œ</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- LangChain 1.0 æ•´ä½“æ¶æ„ -->
                <section class="content-section">
                    <h2 class="section-title">ğŸ›ï¸ LangChain 1.0 æ•´ä½“æ¶æ„</h2>
                    <p>
                        LangChain 1.0 é‡‡ç”¨<strong>åˆ†å±‚æ¶æ„</strong>ï¼Œ
                        ä»åº•å±‚çš„ LangGraph åˆ°é«˜å±‚çš„ Agentï¼Œæ¯ä¸€å±‚éƒ½æœ‰æ˜ç¡®çš„èŒè´£ï¼š
                    </p>

                    <div class="mermaid-wrapper">
                        <div class="mermaid">
graph TB
    subgraph Application["åº”ç”¨å±‚"]
        Agent["create_agent()<br/>é«˜çº§ Agent API"]
    end

    subgraph Middleware["ä¸­é—´ä»¶å±‚"]
        MW["Middleware System<br/>before_agent | after_agent<br/>wrap_model_call | wrap_tool_call"]
    end

    subgraph Core["æ ¸å¿ƒæŠ½è±¡å±‚"]
        Models["Models<br/>init_chat_model()"]
        Messages["Messages<br/>content_blocks"]
        Tools["Tools<br/>@tool è£…é¥°å™¨"]
    end

    subgraph Graph["å›¾æ‰§è¡Œå±‚"]
        LG["LangGraph<br/>StateGraph | Checkpointer"]
    end

    Agent --> MW
    MW --> Core
    Core --> LG

    Agent -.-> Tools
    Agent -.-> Models
    MW -.-> Messages

    style Application fill:#3b82f6,color:#fff
    style Middleware fill:#10b981,color:#fff
    style Core fill:#f59e0b,color:#fff
    style Graph fill:#8b5cf6,color:#fff
                        </div>
                    </div>

                    <h3 class="subsection-title">æ¶æ„åˆ†å±‚è¯´æ˜</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>å±‚çº§</th>
                                <th>èŒè´£</th>
                                <th>æ ¸å¿ƒ API</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>åº”ç”¨å±‚</strong></td>
                                <td>æä¾›å¼€å‘è€…å‹å¥½çš„é«˜çº§ API</td>
                                <td><code>create_agent()</code></td>
                            </tr>
                            <tr>
                                <td><strong>ä¸­é—´ä»¶å±‚</strong></td>
                                <td>åŠ¨æ€ä¸Šä¸‹æ–‡å·¥ç¨‹ã€å¯è§‚æµ‹æ€§ã€å®‰å…¨é˜²æŠ¤</td>
                                <td>CustomMiddleware, PIIMiddleware, etc.</td>
                            </tr>
                            <tr>
                                <td><strong>æ ¸å¿ƒæŠ½è±¡å±‚</strong></td>
                                <td>ç»Ÿä¸€çš„æ¨¡å‹ã€æ¶ˆæ¯ã€å·¥å…·æ¥å£</td>
                                <td><code>init_chat_model()</code>, <code>@tool</code></td>
                            </tr>
                            <tr>
                                <td><strong>å›¾æ‰§è¡Œå±‚</strong></td>
                                <td>çŠ¶æ€ç®¡ç†ã€æµç¨‹ç¼–æ’ã€æŒä¹…åŒ–</td>
                                <td>LangGraph StateGraph, Checkpointer</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="info-box tip">
                        <div class="info-box-title">âœ¨ 1.0 æ¶æ„çš„æ ¸å¿ƒç†å¿µ</div>
                        <ul>
                            <li><strong>å›¾ä¼˜å…ˆ</strong>ï¼šæ‰€æœ‰ Agent éƒ½åŸºäº LangGraph å›¾æ‰§è¡Œå¼•æ“</li>
                            <li><strong>ç»Ÿä¸€æŠ½è±¡</strong>ï¼šè·¨æä¾›å•†çš„æ ‡å‡†åŒ–æ¥å£ï¼ˆmodels, messagesï¼‰</li>
                            <li><strong>å¯ç»„åˆæ€§</strong>ï¼šé€šè¿‡ä¸­é—´ä»¶å’Œé’©å­çµæ´»æ‰©å±•</li>
                            <li><strong>å¯è§‚æµ‹æ€§</strong>ï¼šå†…ç½®è¿½è¸ªå’Œè°ƒè¯•æ”¯æŒï¼ˆLangSmithï¼‰</li>
                        </ul>
                    </div>
                </section>

                <!-- langchain vs langchain-classic -->
                <section class="content-section">
                    <h2 class="section-title">ğŸ“¦ langchain vs langchain-classic</h2>
                    <p>
                        LangChain 1.0 å¼•å…¥äº†<strong>ä¸¤ä¸ªåŒ…</strong>æ¥åŒºåˆ†æ–°æ—§ APIï¼š
                    </p>

                    <table>
                        <thead>
                            <tr>
                                <th>åŒ…å</th>
                                <th>ç”¨é€”</th>
                                <th>ä¸»è¦ API</th>
                                <th>æ¨èåœºæ™¯</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>langchain</code></td>
                                <td>LangChain 1.0 æ ‡å‡† API</td>
                                <td><code>create_agent()</code><br/><code>init_chat_model()</code></td>
                                <td>âœ… æ‰€æœ‰æ–°é¡¹ç›®<br/>âœ… ç”Ÿäº§ç¯å¢ƒ</td>
                            </tr>
                            <tr>
                                <td><code>langchain-classic</code></td>
                                <td>0.x ç‰ˆæœ¬å…¼å®¹åŒ…</td>
                                <td><code>LLMChain</code><br/><code>initialize_agent()</code></td>
                                <td>âš ï¸ é—ç•™ä»£ç è¿ç§»<br/>âš ï¸ è¿‡æ¸¡æœŸä½¿ç”¨</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="info-box warning">
                        <div class="info-box-title">âš ï¸ é‡è¦æé†’</div>
                        <p>
                            <code>langchain-classic</code> ä»…ç”¨äºè¿‡æ¸¡ï¼Œä¸ä¼šè·å¾—æ–°åŠŸèƒ½æ›´æ–°ã€‚
                            å»ºè®®å°½å¿«è¿ç§»åˆ° <code>langchain</code> 1.0 APIã€‚
                        </p>
                    </div>

                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <span class="code-difficulty basic">ğŸŸ¢ åŸºç¡€</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python">"""
langchain vs langchain-classic å¯¹æ¯”ç¤ºä¾‹
"""

# âŒ langchain-classicï¼ˆ0.x ç‰ˆæœ¬ï¼Œä¸æ¨èï¼‰
from langchain_classic import LLMChain
from langchain_classic.agents import initialize_agent, AgentType

llm = ChatOpenAI(model_name="gpt-4")
chain = LLMChain(llm=llm, prompt=prompt)
agent = initialize_agent(
    tools=tools,
    llm=llm,
    agent=AgentType.ZERO_SHOT_REACT_DESCRIPTION
)

# âœ… langchainï¼ˆ1.0 ç‰ˆæœ¬ï¼Œæ¨èï¼‰
from langchain import init_chat_model
from langchain.agents import create_agent

model = init_chat_model("gpt-4o", model_provider="openai")
agent = create_agent(
    model="gpt-4o",
    tools=tools,
    system_prompt="ä½ æ˜¯ä¸“ä¸šçš„ AI åŠ©æ‰‹"
)</code></pre>
                    </div>
                </section>

                <!-- æ ¸å¿ƒæ¨¡å—ä»‹ç» -->
                <section class="content-section">
                    <h2 class="section-title">ğŸ§© æ ¸å¿ƒæ¨¡å—ä»‹ç»</h2>
                    <p>
                        LangChain 1.0 å›´ç»•å‡ ä¸ªæ ¸å¿ƒæ¨¡å—æ„å»ºï¼Œæ¯ä¸ªæ¨¡å—éƒ½æœ‰æ¸…æ™°çš„èŒè´£å’Œ APIï¼š
                    </p>

                    <div class="mermaid-wrapper">
                        <div class="mermaid">
graph LR
    User["ç”¨æˆ·è¯·æ±‚"] --> Agent["Agent<br/>create_agent()"]
    Agent --> Model["Model<br/>init_chat_model()"]
    Agent --> Tools["Tools<br/>@tool"]

    Model --> Messages["Messages<br/>content_blocks"]
    Tools --> Runtime["Runtime<br/>ToolRuntime"]

    Agent --> Middleware["Middleware<br/>CustomMiddleware"]
    Middleware --> Checkpointer["Checkpointer<br/>çŠ¶æ€æŒä¹…åŒ–"]
    Middleware --> Store["Store<br/>é•¿æœŸè®°å¿†"]

    style User fill:#e0e0e0,color:#000
    style Agent fill:#3b82f6,color:#fff
    style Model fill:#10b981,color:#fff
    style Tools fill:#f59e0b,color:#fff
    style Middleware fill:#8b5cf6,color:#fff
                        </div>
                    </div>

                    <h3 class="subsection-title">1. Modelsï¼ˆæ¨¡å‹æ¥å£ï¼‰</h3>
                    <p>
                        æä¾›ç»Ÿä¸€çš„æ¨¡å‹åˆå§‹åŒ–å’Œè°ƒç”¨æ¥å£ï¼Œæ”¯æŒ OpenAIã€Anthropicã€Google ç­‰å¤šä¸ªæä¾›å•†ã€‚
                    </p>

                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <span class="code-difficulty basic">ğŸŸ¢ åŸºç¡€</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python">"""
Models æ¨¡å— - ç»Ÿä¸€çš„æ¨¡å‹æ¥å£
"""
from langchain import init_chat_model

# è‡ªåŠ¨æ¨æ–­æä¾›å•†
model = init_chat_model("gpt-4o")

# æ˜¾å¼æŒ‡å®šæä¾›å•†
model = init_chat_model(
    "claude-3-5-sonnet-20241022",
    model_provider="anthropic",
    temperature=0.7
)

# æ”¯æŒæ‰€æœ‰ä¸»æµæä¾›å•†
gemini = init_chat_model("gemini-2.0-flash-exp", model_provider="google")
ollama = init_chat_model("llama3.2", model_provider="ollama")</code></pre>
                    </div>

                    <h3 class="subsection-title">2. Messagesï¼ˆæ¶ˆæ¯ç³»ç»Ÿï¼‰</h3>
                    <p>
                        æ ‡å‡†åŒ–çš„æ¶ˆæ¯æ ¼å¼ï¼Œå¼•å…¥ <code>content_blocks</code> ç»Ÿä¸€è·¨æä¾›å•†çš„å†…å®¹è®¿é—®ã€‚
                    </p>

                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <span class="code-difficulty intermediate">ğŸŸ¡ ä¸­çº§</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python">"""
Messages æ¨¡å— - ç»Ÿä¸€çš„æ¶ˆæ¯æ ¼å¼
"""
from langchain_core.messages import HumanMessage, AIMessage

# å‘é€æ¶ˆæ¯
response = model.invoke([
    HumanMessage(content="è§£é‡Šé‡å­è®¡ç®—")
])

# ä½¿ç”¨ content_blocks è®¿é—®å†…å®¹ï¼ˆè·¨æä¾›å•†æ ‡å‡†åŒ–ï¼‰
for block in response.content_blocks:
    if block["type"] == "text":
        print(f"æ–‡æœ¬: {block['text']}")
    elif block["type"] == "reasoning":
        print(f"æ¨ç†è¿‡ç¨‹: {block['reasoning']}")
    elif block["type"] == "tool_use":
        print(f"å·¥å…·è°ƒç”¨: {block['name']}")</code></pre>
                    </div>

                    <h3 class="subsection-title">3. Toolsï¼ˆå·¥å…·ç³»ç»Ÿï¼‰</h3>
                    <p>
                        ä½¿ç”¨ <code>@tool</code> è£…é¥°å™¨å¿«é€Ÿå®šä¹‰å·¥å…·ï¼Œæ”¯æŒå‚æ•°éªŒè¯å’Œè¿è¡Œæ—¶ä¸Šä¸‹æ–‡ã€‚
                    </p>

                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <span class="code-difficulty intermediate">ğŸŸ¡ ä¸­çº§</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python">"""
Tools æ¨¡å— - å·¥å…·å®šä¹‰å’Œè°ƒç”¨
"""
from langchain.tools import tool, ToolRuntime
from typing_extensions import TypedDict

# ç®€å•å·¥å…·
@tool
def search_web(query: str) -> str:
    """æœç´¢ç½‘ç»œä¿¡æ¯"""
    return f"æœç´¢ç»“æœï¼š{query}"

# å¸¦è¿è¡Œæ—¶ä¸Šä¸‹æ–‡çš„å·¥å…·
class UserContext(TypedDict):
    user_id: str

@tool
def get_user_data(runtime: ToolRuntime[UserContext]) -> str:
    """è·å–ç”¨æˆ·æ•°æ®"""
    user_id = runtime.context["user_id"]
    return f"ç”¨æˆ· {user_id} çš„æ•°æ®"

# åœ¨ Agent ä¸­ä½¿ç”¨
agent = create_agent(
    model="gpt-4o",
    tools=[search_web, get_user_data],
    context_schema=UserContext
)</code></pre>
                    </div>

                    <h3 class="subsection-title">4. Agentsï¼ˆAgent ç³»ç»Ÿï¼‰</h3>
                    <p>
                        <code>create_agent()</code> æ˜¯ 1.0 çš„æ ¸å¿ƒ APIï¼Œ
                        æ›¿ä»£äº† 0.x ç‰ˆæœ¬çš„ <code>initialize_agent()</code>ã€‚
                    </p>

                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <span class="code-difficulty advanced">ğŸ”´ é«˜çº§</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python">"""
Agents æ¨¡å— - å®Œæ•´çš„ Agent é…ç½®
"""
from langchain.agents import create_agent
from langchain.agents.middleware import PIIMiddleware
from langgraph.checkpoint.memory import InMemorySaver

# åˆ›å»ºå®Œæ•´çš„ Agent
checkpointer = InMemorySaver()
pii_middleware = PIIMiddleware(
    pii_types=["email", "phone_number"],
    strategy="redact"
)

agent = create_agent(
    # æ¨¡å‹é…ç½®
    model="gpt-4o",

    # å·¥å…·åˆ—è¡¨
    tools=[search_web, get_user_data],

    # ç³»ç»Ÿæç¤ºè¯
    system_prompt="ä½ æ˜¯ä¸“ä¸šçš„ AI åŠ©æ‰‹ã€‚è¯·ä¿æŠ¤ç”¨æˆ·éšç§ã€‚",

    # ä¸­é—´ä»¶
    middleware=[pii_middleware],

    # æŒä¹…åŒ–
    checkpointer=checkpointer,

    # è¿è¡Œæ—¶ä¸Šä¸‹æ–‡
    context_schema=UserContext
)

# è°ƒç”¨ Agent
config = {
    "configurable": {"thread_id": "user_001"},
    "context": {"user_id": "user_123"}
}

result = agent.invoke(
    {"messages": [{"role": "user", "content": "ä½ å¥½"}]},
    config=config
)</code></pre>
                    </div>

                    <h3 class="subsection-title">5. Middlewareï¼ˆä¸­é—´ä»¶ç³»ç»Ÿï¼‰</h3>
                    <p>
                        ä¸­é—´ä»¶æä¾›é’©å­æœºåˆ¶ï¼Œç”¨äºåŠ¨æ€ä¸Šä¸‹æ–‡å·¥ç¨‹ã€å®‰å…¨é˜²æŠ¤å’Œå¯è§‚æµ‹æ€§ã€‚
                    </p>

                    <div class="info-box tip">
                        <div class="info-box-title">ğŸ”§ ä¸­é—´ä»¶é’©å­</div>
                        <table style="margin-top: 0.5rem;">
                            <thead>
                                <tr>
                                    <th>é’©å­</th>
                                    <th>è§¦å‘æ—¶æœº</th>
                                    <th>ç”¨é€”ç¤ºä¾‹</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>before_agent</code></td>
                                    <td>Agent æ‰§è¡Œå‰</td>
                                    <td>è¾“å…¥éªŒè¯ã€æ³¨å…¥ä¸Šä¸‹æ–‡</td>
                                </tr>
                                <tr>
                                    <td><code>after_agent</code></td>
                                    <td>Agent æ‰§è¡Œå</td>
                                    <td>è¾“å‡ºæ£€æŸ¥ã€æ—¥å¿—è®°å½•</td>
                                </tr>
                                <tr>
                                    <td><code>wrap_model_call</code></td>
                                    <td>æ¨¡å‹è°ƒç”¨æ—¶</td>
                                    <td>åŠ¨æ€æ¨¡å‹é€‰æ‹©ã€æˆæœ¬è¿½è¸ª</td>
                                </tr>
                                <tr>
                                    <td><code>wrap_tool_call</code></td>
                                    <td>å·¥å…·è°ƒç”¨æ—¶</td>
                                    <td>å·¥å…·è¿‡æ»¤ã€æƒé™æ£€æŸ¥</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- è®¾è®¡å“²å­¦å’ŒåŸåˆ™ -->
                <section class="content-section">
                    <h2 class="section-title">ğŸ’¡ è®¾è®¡å“²å­¦å’ŒåŸåˆ™</h2>
                    <p>
                        LangChain 1.0 çš„æ¶æ„è®¾è®¡éµå¾ªä»¥ä¸‹æ ¸å¿ƒåŸåˆ™ï¼š
                    </p>

                    <h3 class="subsection-title">1. å¯ç»„åˆæ€§ï¼ˆComposabilityï¼‰</h3>
                    <p>
                        é€šè¿‡ç®¡é“æ“ä½œç¬¦ <code>|</code> å’Œæ¨¡å—åŒ–è®¾è®¡ï¼Œå®ç°çµæ´»çš„ç»„åˆï¼š
                    </p>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python"># LCEL ç®¡é“ç»„åˆ
from langchain_core.prompts import ChatPromptTemplate

prompt = ChatPromptTemplate.from_template("ç¿»è¯‘: {text}")
chain = prompt | model

# ä¸­é—´ä»¶ç»„åˆ
agent = create_agent(
    model="gpt-4o",
    tools=tools,
    middleware=[
        LoggingMiddleware(),
        PIIMiddleware(),
        ContentSafetyMiddleware()
    ]
)</code></pre>
                    </div>

                    <h3 class="subsection-title">2. å¯è§‚æµ‹æ€§ï¼ˆObservabilityï¼‰</h3>
                    <p>
                        å†…ç½®å¯¹ LangSmith çš„æ”¯æŒï¼Œè‡ªåŠ¨è¿½è¸ªæ‰§è¡Œè½¨è¿¹ï¼š
                    </p>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python">import os

# å¯ç”¨è¿½è¸ªï¼ˆä¸€è¡Œé…ç½®ï¼‰
os.environ["LANGCHAIN_TRACING_V2"] = "true"
os.environ["LANGCHAIN_API_KEY"] = "your-api-key"

# æ‰€æœ‰ Agent è°ƒç”¨è‡ªåŠ¨è¿½è¸ª
result = agent.invoke({...})</code></pre>
                    </div>

                    <h3 class="subsection-title">3. å¯æ‰©å±•æ€§ï¼ˆExtensibilityï¼‰</h3>
                    <p>
                        é€šè¿‡ä¸­é—´ä»¶ã€è‡ªå®šä¹‰å·¥å…·ã€å­å›¾ç­‰æœºåˆ¶å®ç°æ‰©å±•ï¼š
                    </p>
                    <ul>
                        <li>è‡ªå®šä¹‰ä¸­é—´ä»¶ï¼šå®ç° <code>CustomMiddleware</code> é’©å­</li>
                        <li>è‡ªå®šä¹‰å·¥å…·ï¼šä½¿ç”¨ <code>@tool</code> è£…é¥°å™¨</li>
                        <li>è‡ªå®šä¹‰å›¾ï¼šä½¿ç”¨ LangGraph æ„å»ºå¤æ‚å·¥ä½œæµ</li>
                    </ul>

                    <h3 class="subsection-title">4. ç”Ÿäº§å°±ç»ªï¼ˆProduction-Readyï¼‰</h3>
                    <p>
                        1.0 ç‰ˆæœ¬ä¸“æ³¨äºç”Ÿäº§ç¯å¢ƒéœ€æ±‚ï¼š
                    </p>
                    <table>
                        <thead>
                            <tr>
                                <th>éœ€æ±‚</th>
                                <th>1.0 è§£å†³æ–¹æ¡ˆ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>çŠ¶æ€æŒä¹…åŒ–</strong></td>
                                <td>PostgresSaver, InMemorySaver</td>
                            </tr>
                            <tr>
                                <td><strong>å®‰å…¨é˜²æŠ¤</strong></td>
                                <td>PIIMiddleware, å†…å®¹å®‰å…¨æ£€æŸ¥</td>
                            </tr>
                            <tr>
                                <td><strong>æ€§èƒ½ä¼˜åŒ–</strong></td>
                                <td>å¹¶è¡Œæ‰§è¡Œã€æµå¼è¾“å‡ºã€ç¼“å­˜</td>
                            </tr>
                            <tr>
                                <td><strong>å¯è§‚æµ‹æ€§</strong></td>
                                <td>LangSmith é›†æˆã€ç»“æ„åŒ–æ—¥å¿—</td>
                            </tr>
                            <tr>
                                <td><strong>é”™è¯¯å¤„ç†</strong></td>
                                <td>é‡è¯•é€»è¾‘ã€é™çº§ç­–ç•¥</td>
                            </tr>
                        </tbody>
                    </table>
                </section>

                <!-- å¸¸è§é—®é¢˜ -->
                <section class="content-section">
                    <h2 class="section-title">â“ å¸¸è§é—®é¢˜</h2>

                    <h3 class="subsection-subtitle">Q1: ä¸ºä»€ä¹ˆ 1.0 åŸºäº LangGraphï¼Ÿ</h3>
                    <p>
                        LangGraph æä¾›äº†å¼ºå¤§çš„<strong>å›¾æ‰§è¡Œå¼•æ“</strong>ï¼Œæ”¯æŒï¼š
                    </p>
                    <ul>
                        <li>çŠ¶æ€ç®¡ç†å’ŒæŒä¹…åŒ–</li>
                        <li>å¤æ‚çš„æ§åˆ¶æµï¼ˆæ¡ä»¶åˆ†æ”¯ã€å¾ªç¯ï¼‰</li>
                        <li>äººå·¥ä»‹å…¥ï¼ˆHuman-in-the-Loopï¼‰</li>
                        <li>æ—¶é—´æ—…è¡Œï¼ˆTime Travelï¼‰è°ƒè¯•</li>
                    </ul>
                    <p>
                        é€šè¿‡å°† Agent æ„å»ºåœ¨ LangGraph ä¹‹ä¸Šï¼ŒLangChain è·å¾—äº†è¿™äº›èƒ½åŠ›ï¼Œ
                        åŒæ—¶ä¿æŒäº†ç®€å•çš„é«˜çº§ APIã€‚
                    </p>

                    <h3 class="subsection-subtitle">Q2: langchain-classic ä¼šä¸€ç›´ç»´æŠ¤å—ï¼Ÿ</h3>
                    <p>
                        <strong>ä¸ä¼š</strong>ã€‚<code>langchain-classic</code> ä»…ç”¨äºè¿‡æ¸¡æœŸï¼Œ
                        ä¸ä¼šè·å¾—æ–°åŠŸèƒ½æ›´æ–°å’Œé•¿æœŸç»´æŠ¤ã€‚å»ºè®®å°½å¿«è¿ç§»åˆ° 1.0 APIã€‚
                    </p>

                    <h3 class="subsection-subtitle">Q3: å¦‚ä½•é€‰æ‹© Agent vs LCEL vs LangGraphï¼Ÿ</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>ä½¿ç”¨åœºæ™¯</th>
                                <th>æ¨èæ–¹æ¡ˆ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>ç®€å•çš„å·¥å…·è°ƒç”¨ã€å¯¹è¯</td>
                                <td><code>create_agent()</code></td>
                            </tr>
                            <tr>
                                <td>æ•°æ®è½¬æ¢ç®¡é“ã€RAG</td>
                                <td>LCEL ç®¡é“</td>
                            </tr>
                            <tr>
                                <td>å¤æ‚å·¥ä½œæµã€å¤š Agent åä½œ</td>
                                <td>LangGraph StateGraph</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3 class="subsection-subtitle">Q4: content_blocks å’Œ content æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3>
                    <p>
                        <code>content</code>ï¼šå­—ç¬¦ä¸²å½¢å¼çš„ç®€å•æ–‡æœ¬<br/>
                        <code>content_blocks</code>ï¼šç»“æ„åŒ–çš„å†…å®¹å—åˆ—è¡¨ï¼Œæ”¯æŒï¼š
                    </p>
                    <ul>
                        <li>å¤šæ¨¡æ€å†…å®¹ï¼ˆæ–‡æœ¬ã€å›¾åƒã€å·¥å…·è°ƒç”¨ï¼‰</li>
                        <li>è·¨æä¾›å•†æ ‡å‡†åŒ–ï¼ˆOpenAIã€Anthropicã€Google ç­‰ï¼‰</li>
                        <li>æ¨ç†è¿‡ç¨‹ã€æ€è€ƒé“¾ï¼ˆChain of Thoughtï¼‰</li>
                    </ul>

                    <h3 class="subsection-subtitle">Q5: å¦‚ä½•ç†è§£"Context Engineering"ï¼Ÿ</h3>
                    <p>
                        Context Engineeringï¼ˆä¸Šä¸‹æ–‡å·¥ç¨‹ï¼‰æ˜¯ LangChain 1.0 çš„æ ¸å¿ƒç†å¿µï¼š
                    </p>
                    <blockquote>
                        "ä»¥æ­£ç¡®çš„æ ¼å¼æä¾›æ­£ç¡®çš„ä¿¡æ¯å’Œå·¥å…·ï¼Œä½¿ LLM èƒ½å¤Ÿå®Œæˆä»»åŠ¡"
                    </blockquote>
                    <p>
                        é€šè¿‡ä¸­é—´ä»¶å’Œé’©å­ï¼Œå¯ä»¥åŠ¨æ€è°ƒæ•´ï¼š
                    </p>
                    <ul>
                        <li>ç³»ç»Ÿæç¤ºè¯ï¼ˆåŸºäºç”¨æˆ·çŠ¶æ€ï¼‰</li>
                        <li>å¯ç”¨å·¥å…·ï¼ˆåŸºäºæƒé™ï¼‰</li>
                        <li>å¯¹è¯å†å²ï¼ˆæ‘˜è¦æˆ–è¿‡æ»¤ï¼‰</li>
                        <li>æ¨¡å‹é€‰æ‹©ï¼ˆåŸºäºä»»åŠ¡å¤æ‚åº¦ï¼‰</li>
                    </ul>
                </section>

                <!-- å‚è€ƒèµ„æº -->
                <section class="content-section">
                    <h2 class="section-title">ğŸ“– å‚è€ƒèµ„æº</h2>
                    <ul>
                        <li>
                            <a href="https://docs.langchain.com/oss/python/langchain/overview" target="_blank">
                                LangChain å®˜æ–¹æ¶æ„æ¦‚è¿°
                            </a>
                        </li>
                        <li>
                            <a href="https://docs.langchain.com/oss/python/releases/langchain-v1" target="_blank">
                                LangChain 1.0 å‘å¸ƒè¯´æ˜
                            </a>
                        </li>
                        <li>
                            <a href="https://docs.langchain.com/oss/python/langchain/agents" target="_blank">
                                Agent æ¶æ„æ–‡æ¡£
                            </a>
                        </li>
                        <li>
                            <a href="https://langchain-ai.github.io/langgraph/" target="_blank">
                                LangGraph å®˜æ–¹æ–‡æ¡£
                            </a>
                        </li>
                        <li>
                            <a href="38-migration.html">
                                è¿ç§»æŒ‡å— - ä» 0.x å‡çº§åˆ° 1.0
                            </a>
                        </li>
                    </ul>
                </section>

                <!-- é¡µé¢å¯¼èˆª -->
                                <nav class="page-navigation">
                    <a href="01-introduction.html" class="nav-button prev">
                        â† ä¸Šä¸€é¡µ:LangChain ç®€ä»‹
                    </a>
                    <a href="03-models.html" class="nav-button next">
                        ä¸‹ä¸€é¡µ:æ¨¡å‹æ¥å£ â†’
                    </a>
                </nav>
            </div>
        </main>
    </div>

    <!-- è¿”å›é¡¶éƒ¨æŒ‰é’® -->
    <button class="back-to-top" aria-label="è¿”å›é¡¶éƒ¨">â†‘</button>

    <!-- JavaScript -->
    <script src="assets/js/mermaid-init.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
</body>
</html>
