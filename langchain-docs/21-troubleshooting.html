<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="LangChain 1.0 æ ¸å¿ƒæ¶æ„ - æ·±å…¥ç†è§£ LangChain çš„è®¾è®¡å“²å­¦å’Œæ¨¡å—ç»„ç»‡">
    <title>æ ¸å¿ƒæ¶æ„ | LangChain 1.0 Python çŸ¥è¯†æ–‡æ¡£</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <button class="mobile-menu-button" aria-label="æ‰“å¼€èœå•">â˜°</button>

    <div class="container">
        <!-- ä¾§è¾¹æ å¯¼èˆª -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <h1 class="sidebar-title">ğŸ¦œ LangChain 1.0</h1>
                <p class="sidebar-subtitle">Python å®Œæ•´å­¦ä¹ æŒ‡å—</p>
            </div>

            <ul class="nav-menu">
                <li class="nav-section">
                    <div class="nav-section-title">å¼€å§‹</div>
                    <ul>
                        <li class="nav-item">
                            <a href="index.html" class="nav-link">
                                <span class="nav-icon">ğŸ </span>
                                ä¸»é¡µ
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="nav-section">
                    <div class="nav-section-title">åŸºç¡€ç¯‡</div>
                    <ul>
                        <li class="nav-item">
                            <a href="01-introduction.html" class="nav-link">
                                <span class="nav-icon">ğŸ“–</span>
                                LangChain ç®€ä»‹
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="02-architecture.html" class="nav-link">
                                <span class="nav-icon">ğŸ—ï¸</span>
                                æ ¸å¿ƒæ¶æ„
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="03-models.html" class="nav-link">
                                <span class="nav-icon">ğŸ¤–</span>
                                æ¨¡å‹æ¥å£
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="04-messages.html" class="nav-link">
                                <span class="nav-icon">ğŸ’¬</span>
                                æ¶ˆæ¯ç³»ç»Ÿ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="05-tools.html" class="nav-link">
                                <span class="nav-icon">ğŸ”§</span>
                                å·¥å…·ç³»ç»Ÿ
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="nav-section">
                    <div class="nav-section-title">è¿›é˜¶ç¯‡</div>
                    <ul>
                        <li class="nav-item">
                            <a href="06-agents.html" class="nav-link">
                                <span class="nav-icon">ğŸ¯</span>
                                Agent åŸºç¡€
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="07-middleware.html" class="nav-link">
                                <span class="nav-icon">âš™ï¸</span>
                                ä¸­é—´ä»¶ç³»ç»Ÿ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="08-rag.html" class="nav-link">
                                <span class="nav-icon">ğŸ”</span>
                                RAG è¯¦è§£
                                <span class="nav-badge">é‡ç‚¹</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="09-lcel.html" class="nav-link">
                                <span class="nav-icon">ğŸ”—</span>
                                LCEL è¡¨è¾¾å¼
                            </a>
                        </li>
                    </ul>
                </li>

                                <li class="nav-section">
                    <div class="nav-section-title">é«˜çº§åº”ç”¨</div>
                    <ul>
                        <li class="nav-item">
                            <a href="10-runtime.html" class="nav-link">
                                <span class="nav-icon">ğŸ”Œ</span>
                                Runtime ç³»ç»Ÿ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="11-checkpointer.html" class="nav-link">
                                <span class="nav-icon">ğŸ’¾</span>
                                æŒä¹…åŒ–ç³»ç»Ÿ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="12-streaming.html" class="nav-link">
                                <span class="nav-icon">ğŸŒŠ</span>
                                æµå¼è¾“å‡º
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="13-human-in-loop.html" class="nav-link">
                                <span class="nav-icon">ğŸ‘¤</span>
                                äººå·¥ä»‹å…¥
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="14-long-term-memory.html" class="nav-link">
                                <span class="nav-icon">ğŸ—„ï¸</span>
                                é•¿æœŸè®°å¿†
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="15-langgraph.html" class="nav-link">
                                <span class="nav-icon">ğŸ“Š</span>
                                LangGraph
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="16-context-engineering.html" class="nav-link">
                                <span class="nav-icon">ğŸ¯</span>
                                ä¸Šä¸‹æ–‡å·¥ç¨‹
                                <span class="nav-badge">é‡ç‚¹</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="17-mcp.html" class="nav-link">
                                <span class="nav-icon">ğŸ”Œ</span>
                                MCP åè®®
                            </a>
                        </li>
                    </ul>
                </li>


                                <li class="nav-section">
                    <div class="nav-section-title">å®æˆ˜ç¯‡</div>
                    <ul>
                        <li class="nav-item">
                            <a href="18-customer-service.html" class="nav-link">
                                <span class="nav-icon">ğŸ‘¥</span>
                                å®¢æœæœºå™¨äºº
                                <span class="nav-badge">é‡ç‚¹</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="19-best-practices.html" class="nav-link">
                                <span class="nav-icon">âœ¨</span>
                                æœ€ä½³å®è·µ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="38-chat.html" class="nav-link">
                                <span class="nav-icon">ğŸ’¬</span>
                                åœ¨çº¿å¯¹è¯åŠ©æ‰‹
                                <span class="nav-badge">NEW</span>
                            </a>
                        </li>
                    </ul>
                </li>


                                <li class="nav-section">
                    <div class="nav-section-title">å‚è€ƒç¯‡</div>
                    <ul>
                        <li class="nav-item">
                            <a href="20-api-reference.html" class="nav-link">
                                <span class="nav-icon">ğŸ“š</span>
                                API é€ŸæŸ¥è¡¨
                            </a>
                        </li>
                        <li class="nav-item active">
                            <a href="21-troubleshooting.html" class="nav-link">
                                <span class="nav-icon">ğŸ›</span>
                                æ•…éšœæ’é™¤
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="22-migration.html" class="nav-link">
                                <span class="nav-icon">ğŸ”„</span>
                                è¿ç§»æŒ‡å—
                            </a>
                        </li>
                    </ul>
                </li>


                                <li class="nav-section">
                    <div class="nav-section-title">æ‰©å±•ç¯‡</div>
                    <ul>
                        <li class="nav-item">
                            <a href="23-structured-output.html" class="nav-link">
                                <span class="nav-icon">ğŸ“Š</span>
                                ç»“æ„åŒ–è¾“å‡º
                            </a>
                        </li>
                    </ul>
                </li>


                                <li class="nav-section">
                    <div class="nav-section-title">DeepAgents ç¯‡</div>
                    <ul>
                        <li class="nav-item">
                            <a href="24-deepagents-quickstart.html" class="nav-link">
                                <span class="nav-icon">ğŸš€</span>
                                å¿«é€Ÿå¼€å§‹
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="25-deepagents-customization.html" class="nav-link">
                                <span class="nav-icon">ğŸ¨</span>
                                å®šåˆ¶åŒ–
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="26-deepagents-harness.html" class="nav-link">
                                <span class="nav-icon">ğŸ›ï¸</span>
                                Harness ç³»ç»Ÿ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="27-deepagents-backends.html" class="nav-link">
                                <span class="nav-icon">ğŸ”§</span>
                                åç«¯é…ç½®
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="28-deepagents-subagents.html" class="nav-link">
                                <span class="nav-icon">ğŸ‘¥</span>
                                å­ä»£ç†
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="29-deepagents-hitl.html" class="nav-link">
                                <span class="nav-icon">ğŸ¤</span>
                                äººå·¥ä»‹å…¥
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="30-deepagents-memory.html" class="nav-link">
                                <span class="nav-icon">ğŸ§ </span>
                                é•¿æœŸè®°å¿†
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="31-deepagents-middleware.html" class="nav-link">
                                <span class="nav-icon">âš™ï¸</span>
                                ä¸­é—´ä»¶
                            </a>
                        </li>
                    </ul>
                </li>


                                <li class="nav-section">
                    <div class="nav-section-title">Multi-Agent ç¯‡</div>
                    <ul>
                        <li class="nav-item">
                            <a href="32-multi-agent-index.html" class="nav-link">
                                <span class="nav-icon">ğŸŒ</span>
                                æ¦‚è¿°
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="33-multi-agent-subagents.html" class="nav-link">
                                <span class="nav-icon">ğŸ‘¥</span>
                                å­ä»£ç†
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="34-multi-agent-handoffs.html" class="nav-link">
                                <span class="nav-icon">ğŸ”„</span>
                                äº¤æ¥æœºåˆ¶
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="35-multi-agent-skills.html" class="nav-link">
                                <span class="nav-icon">ğŸ¯</span>
                                æŠ€èƒ½ç³»ç»Ÿ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="36-multi-agent-router.html" class="nav-link">
                                <span class="nav-icon">ğŸ§­</span>
                                è·¯ç”±æœºåˆ¶
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="37-multi-agent-workflow.html" class="nav-link">
                                <span class="nav-icon">ğŸ”€</span>
                                è‡ªå®šä¹‰å·¥ä½œæµ
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
        </nav>

        <!-- ä¸»å†…å®¹åŒºåŸŸ -->
        <!-- ä¸»å†…å®¹åŒºåŸŸ -->
        <main class="main-content">
            <div class="content-wrapper">
                <!-- é¢åŒ…å±‘å¯¼èˆª -->
                <nav class="breadcrumb">
                    <span class="breadcrumb-item">
                        <a href="index.html" class="breadcrumb-link">ä¸»é¡µ</a>
                    </span>
                    <span class="breadcrumb-item">
                        å‚è€ƒç¯‡
                    </span>
                    <span class="breadcrumb-item">
                        æ•…éšœæ’é™¤
                    </span>
                </nav>

                <!-- é¡µé¢æ ‡é¢˜ -->
                <header class="page-header">
                    <h1 class="page-title">ğŸ› LangChain 1.0 æ•…éšœæ’é™¤æŒ‡å—</h1>
                    <p class="page-subtitle">
                        å¿«é€Ÿè¯Šæ–­å’Œè§£å†³å¸¸è§é—®é¢˜ï¼ŒæŒæ¡è°ƒè¯•æŠ€å·§ï¼Œæå‡å¼€å‘æ•ˆç‡ã€‚
                    </p>
                </header>

                <!-- å¿«é€Ÿå¯¼èˆª -->
                <section class="content-section">
                    <h2 class="section-title">ğŸ” é—®é¢˜åˆ†ç±»</h2>
                    <div class="info-box note">
                        <div class="info-box-title">ğŸ’¡ å¿«é€Ÿå¯¼èˆª</div>
                        <p>
                            æ ¹æ®é”™è¯¯ç±»å‹å¿«é€Ÿè·³è½¬åˆ°å¯¹åº”çš„è§£å†³æ–¹æ¡ˆï¼š
                        </p>
                        <ul style="margin-top: 0.5rem;">
                            <li><a href="#import-errors">å¯¼å…¥é”™è¯¯</a> - ModuleNotFoundError, ImportError</li>
                            <li><a href="#api-errors">API é”™è¯¯</a> - è®¤è¯å¤±è´¥ã€é…é¢è¶…é™</li>
                            <li><a href="#model-errors">æ¨¡å‹é”™è¯¯</a> - æ¨¡å‹ä¸æ”¯æŒã€å‚æ•°é”™è¯¯</li>
                            <li><a href="#tool-errors">å·¥å…·é”™è¯¯</a> - å·¥å…·è°ƒç”¨å¤±è´¥ã€å‚æ•°éªŒè¯</li>
                            <li><a href="#agent-errors">Agent é”™è¯¯</a> - æ— é™å¾ªç¯ã€çŠ¶æ€é”™è¯¯</li>
                            <li><a href="#memory-errors">å†…å­˜é”™è¯¯</a> - Checkpointerã€Store é—®é¢˜</li>
                            <li><a href="#performance-issues">æ€§èƒ½é—®é¢˜</a> - å“åº”æ…¢ã€è¶…æ—¶</li>
                            <li><a href="#debugging-tools">è°ƒè¯•å·¥å…·</a> - LangSmithã€æ—¥å¿—é…ç½®</li>
                        </ul>
                    </div>
                </section>

                <!-- å¯¼å…¥é”™è¯¯ -->
                <section class="content-section" id="import-errors">
                    <h2 class="section-title">ğŸ“¦ å¯¼å…¥é”™è¯¯</h2>

                    <h3 class="subsection-subtitle">é”™è¯¯ 1: ModuleNotFoundError: No module named 'langchain'</h3>
                    <div class="info-box warning">
                        <div class="info-box-title">âš ï¸ é”™è¯¯ä¿¡æ¯</div>
                        <pre><code>ModuleNotFoundError: No module named 'langchain'</code></pre>
                    </div>

                    <p><strong>åŸå› </strong>ï¼šæœªå®‰è£… LangChain åŒ…</p>

                    <p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Bash</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-bash"># å®‰è£…æ ¸å¿ƒåŒ…
pip install langchain

# å®‰è£…ç‰¹å®šæä¾›å•†çš„åŒ…
pip install langchain-openai
pip install langchain-anthropic
pip install langchain-google-genai</code></pre>
                    </div>

                    <h3 class="subsection-subtitle">é”™è¯¯ 2: ImportError: cannot import name 'create_agent'</h3>
                    <div class="info-box warning">
                        <div class="info-box-title">âš ï¸ é”™è¯¯ä¿¡æ¯</div>
                        <pre><code>ImportError: cannot import name 'create_agent' from 'langchain'</code></pre>
                    </div>

                    <p><strong>åŸå› </strong>ï¼šå¯¼å…¥è·¯å¾„é”™è¯¯æˆ–ç‰ˆæœ¬ä¸åŒ¹é…</p>

                    <p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python"># âŒ é”™è¯¯çš„å¯¼å…¥
from langchain import create_agent

# âœ… æ­£ç¡®çš„å¯¼å…¥
from langchain.agents import create_agent

# ç¡®ä¿ç‰ˆæœ¬æ­£ç¡®
# pip install langchain>=1.0.0</code></pre>
                    </div>

                    <h3 class="subsection-subtitle">é”™è¯¯ 3: ä½¿ç”¨äº† langchain-classic çš„ API</h3>
                    <div class="info-box warning">
                        <div class="info-box-title">âš ï¸ é”™è¯¯ä¿¡æ¯</div>
                        <pre><code>AttributeError: module 'langchain' has no attribute 'LLMChain'</code></pre>
                    </div>

                    <p><strong>åŸå› </strong>ï¼šä½¿ç”¨äº† 0.x ç‰ˆæœ¬çš„ APIï¼ˆå·²åºŸå¼ƒï¼‰</p>

                    <p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python"># âŒ 0.x ç‰ˆæœ¬çš„ APIï¼ˆå·²åºŸå¼ƒï¼‰
from langchain import LLMChain

# âœ… 1.0 ç‰ˆæœ¬æ¨èæ–¹å¼
from langchain.agents import create_agent

# æˆ–è€…ä½¿ç”¨å…¼å®¹åŒ…ï¼ˆä¸æ¨èï¼‰
from langchain_classic import LLMChain</code></pre>
                    </div>
                </section>

                <!-- API é”™è¯¯ -->
                <section class="content-section" id="api-errors">
                    <h2 class="section-title">ğŸ”‘ API é”™è¯¯</h2>

                    <h3 class="subsection-subtitle">é”™è¯¯ 4: AuthenticationError: Invalid API key</h3>
                    <div class="info-box warning">
                        <div class="info-box-title">âš ï¸ é”™è¯¯ä¿¡æ¯</div>
                        <pre><code>AuthenticationError: Incorrect API key provided</code></pre>
                    </div>

                    <p><strong>åŸå› </strong>ï¼šAPI å¯†é’¥æœªè®¾ç½®æˆ–é”™è¯¯</p>

                    <p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python">import os

# æ–¹å¼ 1ï¼šç¯å¢ƒå˜é‡ï¼ˆæ¨èï¼‰
os.environ["OPENAI_API_KEY"] = "your-api-key-here"

# æ–¹å¼ 2ï¼šç›´æ¥ä¼ å…¥
from langchain_openai import ChatOpenAI

model = ChatOpenAI(
    model="gpt-4o",
    api_key="your-api-key-here"
)

# éªŒè¯ API å¯†é’¥æ˜¯å¦è®¾ç½®
print(os.getenv("OPENAI_API_KEY"))  # åº”è¾“å‡ºå¯†é’¥ï¼ˆå‰å‡ ä½ï¼‰</code></pre>
                    </div>

                    <h3 class="subsection-subtitle">é”™è¯¯ 5: RateLimitError: Rate limit exceeded</h3>
                    <div class="info-box warning">
                        <div class="info-box-title">âš ï¸ é”™è¯¯ä¿¡æ¯</div>
                        <pre><code>RateLimitError: You exceeded your current quota</code></pre>
                    </div>

                    <p><strong>åŸå› </strong>ï¼šAPI è°ƒç”¨é¢‘ç‡æˆ–é…é¢è¶…é™</p>

                    <p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python">import time
from tenacity import retry, stop_after_attempt, wait_exponential

# æ·»åŠ é‡è¯•é€»è¾‘
@retry(
    stop=stop_after_attempt(3),
    wait=wait_exponential(multiplier=1, min=4, max=10)
)
def call_model_with_retry():
    return model.invoke("your query")

# æ·»åŠ å»¶è¿Ÿ
time.sleep(1)  # æ¯æ¬¡è°ƒç”¨é—´éš” 1 ç§’

# æ£€æŸ¥é…é¢
# è®¿é—®ï¼šhttps://platform.openai.com/usage</code></pre>
                    </div>

                    <h3 class="subsection-subtitle">é”™è¯¯ 6: TimeoutError: Request timeout</h3>
                    <div class="info-box warning">
                        <div class="info-box-title">âš ï¸ é”™è¯¯ä¿¡æ¯</div>
                        <pre><code>TimeoutError: Request timed out</code></pre>
                    </div>

                    <p><strong>åŸå› </strong>ï¼šç½‘ç»œæ…¢æˆ–è¯·æ±‚è¶…æ—¶</p>

                    <p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python">from langchain_openai import ChatOpenAI

# å¢åŠ è¶…æ—¶æ—¶é—´
model = ChatOpenAI(
    model="gpt-4o",
    timeout=60,  # 60 ç§’è¶…æ—¶
    max_retries=3  # æœ€å¤šé‡è¯• 3 æ¬¡
)</code></pre>
                    </div>
                </section>

                <!-- æ¨¡å‹é”™è¯¯ -->
                <section class="content-section" id="model-errors">
                    <h2 class="section-title">ğŸ¤– æ¨¡å‹é”™è¯¯</h2>

                    <h3 class="subsection-subtitle">é”™è¯¯ 7: ValueError: Model not found</h3>
                    <div class="info-box warning">
                        <div class="info-box-title">âš ï¸ é”™è¯¯ä¿¡æ¯</div>
                        <pre><code>ValueError: Model 'gpt-5' not found</code></pre>
                    </div>

                    <p><strong>åŸå› </strong>ï¼šæ¨¡å‹åç§°é”™è¯¯æˆ–ä¸å­˜åœ¨</p>

                    <p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python"># âœ… æ­£ç¡®çš„æ¨¡å‹åç§°ï¼ˆ2025 å¹´ 1 æœˆï¼‰
valid_models = [
    "gpt-4o",
    "gpt-4o-mini",
    "gpt-3.5-turbo",
    "claude-3-5-sonnet-20241022",
    "gemini-2.0-flash-exp"
]

# ä½¿ç”¨ init_chat_model è‡ªåŠ¨éªŒè¯
from langchain import init_chat_model

model = init_chat_model("gpt-4o", model_provider="openai")</code></pre>
                    </div>

                    <h3 class="subsection-subtitle">é”™è¯¯ 8: æ¨¡å‹ä¸æ”¯æŒæŸäº›åŠŸèƒ½</h3>
                    <div class="info-box warning">
                        <div class="info-box-title">âš ï¸ é”™è¯¯ä¿¡æ¯</div>
                        <pre><code>NotImplementedError: This model does not support tool calling</code></pre>
                    </div>

                    <p><strong>åŸå› </strong>ï¼šä½¿ç”¨äº†æ¨¡å‹ä¸æ”¯æŒçš„åŠŸèƒ½</p>

                    <p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
                    <table>
                        <thead>
                            <tr>
                                <th>åŠŸèƒ½</th>
                                <th>æ”¯æŒçš„æ¨¡å‹</th>
                                <th>ä¸æ”¯æŒçš„æ¨¡å‹</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>å·¥å…·è°ƒç”¨</strong></td>
                                <td>GPT-4, GPT-3.5-turbo, Claude 3+</td>
                                <td>æ—©æœŸæ¨¡å‹</td>
                            </tr>
                            <tr>
                                <td><strong>æµå¼è¾“å‡º</strong></td>
                                <td>æ‰€æœ‰ä¸»æµæ¨¡å‹</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td><strong>ç»“æ„åŒ–è¾“å‡º</strong></td>
                                <td>GPT-4o, Claude 3.5 Sonnet</td>
                                <td>GPT-3.5-turboï¼ˆéƒ¨åˆ†ï¼‰</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python"># æ£€æŸ¥æ¨¡å‹æ˜¯å¦æ”¯æŒå·¥å…·è°ƒç”¨
from langchain_openai import ChatOpenAI

model = ChatOpenAI(model="gpt-4o")

# æŸ¥çœ‹æ¨¡å‹èƒ½åŠ›
if hasattr(model, "bind_tools"):
    print("æ”¯æŒå·¥å…·è°ƒç”¨")
else:
    print("ä¸æ”¯æŒå·¥å…·è°ƒç”¨ï¼Œè¯·å‡çº§æ¨¡å‹")</code></pre>
                    </div>
                </section>

                <!-- å·¥å…·é”™è¯¯ -->
                <section class="content-section" id="tool-errors">
                    <h2 class="section-title">ğŸ”§ å·¥å…·é”™è¯¯</h2>

                    <h3 class="subsection-subtitle">é”™è¯¯ 9: å·¥å…·è°ƒç”¨å¤±è´¥</h3>
                    <div class="info-box warning">
                        <div class="info-box-title">âš ï¸ é”™è¯¯ä¿¡æ¯</div>
                        <pre><code>ToolExecutionError: Tool 'my_tool' failed to execute</code></pre>
                    </div>

                    <p><strong>åŸå› </strong>ï¼šå·¥å…·å‡½æ•°å†…éƒ¨å‡ºé”™</p>

                    <p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python">from langchain.tools import tool

# âŒ æ²¡æœ‰é”™è¯¯å¤„ç†
@tool
def search_database(query: str) -> str:
    """æœç´¢æ•°æ®åº“"""
    result = database.query(query)  # å¯èƒ½æŠ›å‡ºå¼‚å¸¸
    return result

# âœ… æ·»åŠ é”™è¯¯å¤„ç†
@tool
def search_database(query: str) -> str:
    """æœç´¢æ•°æ®åº“"""
    try:
        result = database.query(query)
        return result
    except Exception as e:
        return f"æœç´¢å¤±è´¥ï¼š{str(e)}"</code></pre>
                    </div>

                    <h3 class="subsection-subtitle">é”™è¯¯ 10: å·¥å…·å‚æ•°éªŒè¯å¤±è´¥</h3>
                    <div class="info-box warning">
                        <div class="info-box-title">âš ï¸ é”™è¯¯ä¿¡æ¯</div>
                        <pre><code>ValidationError: Invalid tool arguments</code></pre>
                    </div>

                    <p><strong>åŸå› </strong>ï¼šå·¥å…·è°ƒç”¨å‚æ•°ç±»å‹æˆ–å€¼ä¸æ­£ç¡®</p>

                    <p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python">from langchain.tools import tool
from typing import Literal

# ä½¿ç”¨ç±»å‹æç¤ºå’ŒéªŒè¯
@tool
def set_status(
    status: Literal["active", "inactive", "pending"]
) -> str:
    """è®¾ç½®çŠ¶æ€

    Args:
        status: çŠ¶æ€å€¼ï¼Œå¿…é¡»æ˜¯ active, inactive, æˆ– pending
    """
    if status not in ["active", "inactive", "pending"]:
        return f"é”™è¯¯ï¼šæ— æ•ˆçš„çŠ¶æ€ '{status}'"

    return f"çŠ¶æ€å·²è®¾ç½®ä¸ºï¼š{status}"</code></pre>
                    </div>

                    <h3 class="subsection-subtitle">é”™è¯¯ 11: Runtime ä¸Šä¸‹æ–‡ç¼ºå¤±</h3>
                    <div class="info-box warning">
                        <div class="info-box-title">âš ï¸ é”™è¯¯ä¿¡æ¯</div>
                        <pre><code>KeyError: 'user_id'</code></pre>
                    </div>

                    <p><strong>åŸå› </strong>ï¼šå·¥å…·éœ€è¦ Runtime ä¸Šä¸‹æ–‡ï¼Œä½†è°ƒç”¨æ—¶æœªæä¾›</p>

                    <p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python">from langchain.tools import tool, ToolRuntime
from typing_extensions import TypedDict

class UserContext(TypedDict):
    user_id: str

@tool
def get_user_data(runtime: ToolRuntime[UserContext]) -> str:
    """è·å–ç”¨æˆ·æ•°æ®"""
    user_id = runtime.context["user_id"]
    return f"ç”¨æˆ·æ•°æ®ï¼š{user_id}"

# âŒ é”™è¯¯ï¼šæœªæä¾›ä¸Šä¸‹æ–‡
result = agent.invoke({"messages": [...]})

# âœ… æ­£ç¡®ï¼šæä¾›ä¸Šä¸‹æ–‡
config = {
    "configurable": {"thread_id": "thread_001"},
    "context": {"user_id": "user_123"}
}
result = agent.invoke({"messages": [...]}, config=config)</code></pre>
                    </div>
                </section>

                <!-- Agent é”™è¯¯ -->
                <section class="content-section" id="agent-errors">
                    <h2 class="section-title">ğŸ¯ Agent é”™è¯¯</h2>

                    <h3 class="subsection-subtitle">é”™è¯¯ 12: Agent æ— é™å¾ªç¯</h3>
                    <div class="info-box warning">
                        <div class="info-box-title">âš ï¸ ç—‡çŠ¶</div>
                        <p>Agent ä¸€ç›´è°ƒç”¨å·¥å…·ï¼Œä¸åœæ­¢</p>
                    </div>

                    <p><strong>åŸå› </strong>ï¼šAgent é™·å…¥å¾ªç¯ï¼Œæ— æ³•åˆ¤æ–­ä»»åŠ¡å®Œæˆ</p>

                    <p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python"># 1. åœ¨ system_prompt ä¸­æ˜ç¡®ç»ˆæ­¢æ¡ä»¶
system_prompt = """
ä½ æ˜¯AIåŠ©æ‰‹ã€‚

é‡è¦ï¼šå®Œæˆä»»åŠ¡åï¼Œç›´æ¥ç»™å‡ºæœ€ç»ˆç­”æ¡ˆï¼Œä¸è¦ç»§ç»­è°ƒç”¨å·¥å…·ã€‚
å¦‚æœå·²ç»è·å¾—è¶³å¤Ÿä¿¡æ¯ï¼Œè¯·æ€»ç»“å¹¶å›ç­”ç”¨æˆ·ã€‚
"""

# 2. ä½¿ç”¨ LangGraph è®¾ç½®é€’å½’é™åˆ¶
from langgraph.graph import StateGraph

graph = StateGraph(MessagesState)
# ... æ·»åŠ èŠ‚ç‚¹å’Œè¾¹ ...

compiled = graph.compile(
    checkpointer=checkpointer,
    recursion_limit=25  # æœ€å¤šæ‰§è¡Œ 25 æ­¥
)

# 3. ç›‘æ§æ‰§è¡Œæ­¥æ•°
step_count = 0
for chunk in agent.stream({...}):
    step_count += 1
    if step_count > 20:
        print("è­¦å‘Šï¼šæ‰§è¡Œæ­¥æ•°è¿‡å¤šï¼Œå¯èƒ½é™·å…¥å¾ªç¯")
        break</code></pre>
                    </div>

                    <h3 class="subsection-subtitle">é”™è¯¯ 13: çŠ¶æ€æ›´æ–°å¤±è´¥</h3>
                    <div class="info-box warning">
                        <div class="info-box-title">âš ï¸ é”™è¯¯ä¿¡æ¯</div>
                        <pre><code>KeyError: 'messages'</code></pre>
                    </div>

                    <p><strong>åŸå› </strong>ï¼šçŠ¶æ€å­—æ®µåç§°é”™è¯¯æˆ–æœªåˆå§‹åŒ–</p>

                    <p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python"># âŒ é”™è¯¯ï¼šå­—æ®µåæ‹¼å†™é”™è¯¯
result = agent.invoke({"message": [...]})  # åº”è¯¥æ˜¯ messages

# âœ… æ­£ç¡®ï¼šä½¿ç”¨æ­£ç¡®çš„å­—æ®µå
result = agent.invoke({"messages": [...]})

# éªŒè¯çŠ¶æ€ç»“æ„
from langgraph.graph import MessagesState

print(MessagesState.__annotations__)
# è¾“å‡ºï¼š{'messages': ...}</code></pre>
                    </div>
                </section>

                <!-- å†…å­˜é”™è¯¯ -->
                <section class="content-section" id="memory-errors">
                    <h2 class="section-title">ğŸ’¾ å†…å­˜é”™è¯¯</h2>

                    <h3 class="subsection-subtitle">é”™è¯¯ 14: Checkpointer è¿æ¥å¤±è´¥</h3>
                    <div class="info-box warning">
                        <div class="info-box-title">âš ï¸ é”™è¯¯ä¿¡æ¯</div>
                        <pre><code>OperationalError: could not connect to server</code></pre>
                    </div>

                    <p><strong>åŸå› </strong>ï¼šPostgreSQL æ•°æ®åº“è¿æ¥å¤±è´¥</p>

                    <p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python">from langgraph.checkpoint.postgres import PostgresSaver

# æ£€æŸ¥æ•°æ®åº“è¿æ¥
import psycopg2

try:
    conn = psycopg2.connect(
        "postgresql://user:pass@localhost:5432/langchain"
    )
    print("æ•°æ®åº“è¿æ¥æˆåŠŸ")
    conn.close()
except Exception as e:
    print(f"æ•°æ®åº“è¿æ¥å¤±è´¥ï¼š{e}")

# å¼€å‘ç¯å¢ƒï¼šä½¿ç”¨å†…å­˜ Checkpointer
from langgraph.checkpoint.memory import InMemorySaver

checkpointer = InMemorySaver()  # ä¸éœ€è¦æ•°æ®åº“</code></pre>
                    </div>

                    <h3 class="subsection-subtitle">é”™è¯¯ 15: Store æ•°æ®æœªæ‰¾åˆ°</h3>
                    <div class="info-box warning">
                        <div class="info-box-title">âš ï¸ é”™è¯¯ä¿¡æ¯</div>
                        <pre><code>AttributeError: 'NoneType' object has no attribute 'value'</code></pre>
                    </div>

                    <p><strong>åŸå› </strong>ï¼šStore ä¸­æ•°æ®ä¸å­˜åœ¨</p>

                    <p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python">from langchain.tools import tool, ToolRuntime

@tool
def get_preference(key: str, runtime: ToolRuntime) -> str:
    """è·å–ç”¨æˆ·åå¥½"""
    user_id = runtime.context["user_id"]
    store = runtime.store

    # âŒ é”™è¯¯ï¼šç›´æ¥è®¿é—®å¯èƒ½ä¸å­˜åœ¨çš„æ•°æ®
    # item = store.get(("users", user_id), key)
    # return item.value

    # âœ… æ­£ç¡®ï¼šæ£€æŸ¥æ•°æ®æ˜¯å¦å­˜åœ¨
    item = store.get(("users", user_id), key)

    if item is None:
        return f"åå¥½ '{key}' æœªè®¾ç½®"

    return f"{key} = {item.value}"</code></pre>
                    </div>
                </section>

                <!-- æ€§èƒ½é—®é¢˜ -->
                <section class="content-section" id="performance-issues">
                    <h2 class="section-title">âš¡ æ€§èƒ½é—®é¢˜</h2>

                    <h3 class="subsection-subtitle">é—®é¢˜ 1: å“åº”é€Ÿåº¦æ…¢</h3>
                    <p><strong>ç—‡çŠ¶</strong>ï¼šAgent å“åº”æ—¶é—´ > 10 ç§’</p>

                    <p><strong>è¯Šæ–­æ­¥éª¤</strong>ï¼š</p>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python">import time

# 1. æµ‹é‡å„é˜¶æ®µè€—æ—¶
start = time.time()

# å·¥å…·è°ƒç”¨è€—æ—¶
tool_start = time.time()
result = my_tool.invoke({"query": "test"})
print(f"å·¥å…·è°ƒç”¨è€—æ—¶: {time.time() - tool_start:.2f}s")

# æ¨¡å‹è°ƒç”¨è€—æ—¶
model_start = time.time()
response = model.invoke("test")
print(f"æ¨¡å‹è°ƒç”¨è€—æ—¶: {time.time() - model_start:.2f}s")

# æ€»è€—æ—¶
print(f"æ€»è€—æ—¶: {time.time() - start:.2f}s")</code></pre>
                    </div>

                    <p><strong>ä¼˜åŒ–æ–¹æ¡ˆ</strong>ï¼š</p>
                    <table>
                        <thead>
                            <tr>
                                <th>ç“¶é¢ˆ</th>
                                <th>ä¼˜åŒ–æ–¹æ³•</th>
                                <th>é¢„æœŸæå‡</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>å·¥å…·è°ƒç”¨æ…¢</td>
                                <td>æ·»åŠ ç¼“å­˜ã€ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢</td>
                                <td>50-70%</td>
                            </tr>
                            <tr>
                                <td>æ¨¡å‹è°ƒç”¨æ…¢</td>
                                <td>ä½¿ç”¨æ›´å¿«çš„æ¨¡å‹ã€å¯ç”¨æµå¼è¾“å‡º</td>
                                <td>30-50%</td>
                            </tr>
                            <tr>
                                <td>å¯¹è¯å†å²è¿‡é•¿</td>
                                <td>ä½¿ç”¨ SummarizationMiddleware</td>
                                <td>40-60%</td>
                            </tr>
                            <tr>
                                <td>æ£€ç´¢æ…¢</td>
                                <td>ä½¿ç”¨å‘é‡ç´¢å¼•ã€é™åˆ¶æ£€ç´¢æ•°é‡</td>
                                <td>60-80%</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3 class="subsection-subtitle">é—®é¢˜ 2: å†…å­˜å ç”¨è¿‡é«˜</h3>
                    <p><strong>ç—‡çŠ¶</strong>ï¼šè¿›ç¨‹å†…å­˜æŒç»­å¢é•¿</p>

                    <p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python"># 1. é™åˆ¶å¯¹è¯å†å²é•¿åº¦
from langchain.agents.middleware import SummarizationMiddleware

summarization = SummarizationMiddleware(
    max_messages=10,  # åªä¿ç•™æœ€è¿‘ 10 æ¡æ¶ˆæ¯
    summarize_older=True
)

# 2. å®šæœŸæ¸…ç† Checkpointerï¼ˆå¼€å‘ç¯å¢ƒï¼‰
if isinstance(checkpointer, InMemorySaver):
    # æ¸…ç†è¶…è¿‡ 1 å°æ—¶çš„ä¼šè¯
    # checkpointer.clear_old_sessions(max_age=3600)
    pass

# 3. ä½¿ç”¨ PostgreSQLï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
# PostgreSQL ä¼šè‡ªåŠ¨ç®¡ç†å†…å­˜</code></pre>
                    </div>
                </section>

                <!-- è°ƒè¯•å·¥å…· -->
                <section class="content-section" id="debugging-tools">
                    <h2 class="section-title">ğŸ”¬ è°ƒè¯•å·¥å…·</h2>

                    <h3 class="subsection-title">LangSmith è¿½è¸ª</h3>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python">import os

# å¯ç”¨ LangSmith è¿½è¸ª
os.environ["LANGCHAIN_TRACING_V2"] = "true"
os.environ["LANGCHAIN_API_KEY"] = "your-langsmith-api-key"
os.environ["LANGCHAIN_PROJECT"] = "my-project"

# æ‰€æœ‰ Agent è°ƒç”¨ä¼šè‡ªåŠ¨è¿½è¸ª
result = agent.invoke({"messages": [...]})

# è®¿é—® https://smith.langchain.com/ æŸ¥çœ‹è¿½è¸ªç»“æœ</code></pre>
                    </div>

                    <h3 class="subsection-title">è¯¦ç»†æ—¥å¿—é…ç½®</h3>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python">import logging

# é…ç½®æ—¥å¿—çº§åˆ«
logging.basicConfig(
    level=logging.DEBUG,  # æ˜¾ç¤ºæ‰€æœ‰æ—¥å¿—
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'
)

# åªæ˜¾ç¤º LangChain ç›¸å…³æ—¥å¿—
logger = logging.getLogger("langchain")
logger.setLevel(logging.DEBUG)

# ç¦ç”¨å…¶ä»–åº“çš„æ—¥å¿—
logging.getLogger("httpx").setLevel(logging.WARNING)
logging.getLogger("openai").setLevel(logging.WARNING)</code></pre>
                    </div>

                    <h3 class="subsection-title">æ‰“å°ä¸­é—´çŠ¶æ€</h3>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python"># ä½¿ç”¨ stream_mode æŸ¥çœ‹æ‰§è¡Œè¿‡ç¨‹
for stream_mode, chunk in agent.stream(
    {"messages": [...]},
    stream_mode=["messages", "updates", "values"]
):
    if stream_mode == "updates":
        print(f"\nèŠ‚ç‚¹æ›´æ–°: {chunk}")

    elif stream_mode == "values":
        print(f"\nå½“å‰çŠ¶æ€: {chunk.keys()}")

    elif stream_mode == "messages":
        token, metadata = chunk
        if token:
            print(token, end="", flush=True)</code></pre>
                    </div>

                    <h3 class="subsection-title">è¯Šæ–­æµç¨‹å›¾</h3>
                    <div class="mermaid-wrapper">
                        <div class="mermaid">
graph TB
    Start[é‡åˆ°é”™è¯¯] --> CheckError{é”™è¯¯ç±»å‹ï¼Ÿ}

    CheckError -->|å¯¼å…¥é”™è¯¯| Import[æ£€æŸ¥åŒ…å®‰è£…å’Œç‰ˆæœ¬]
    CheckError -->|APIé”™è¯¯| API[æ£€æŸ¥APIå¯†é’¥å’Œé…é¢]
    CheckError -->|æ¨¡å‹é”™è¯¯| Model[æ£€æŸ¥æ¨¡å‹åç§°å’Œèƒ½åŠ›]
    CheckError -->|å·¥å…·é”™è¯¯| Tool[æ£€æŸ¥å·¥å…·å®šä¹‰å’Œå‚æ•°]
    CheckError -->|æ€§èƒ½é—®é¢˜| Perf[ä½¿ç”¨ LangSmith è¿½è¸ª]

    Import --> Fix1[pip install ç›¸å…³åŒ…]
    API --> Fix2[è®¾ç½®ç¯å¢ƒå˜é‡æˆ–æ£€æŸ¥é…é¢]
    Model --> Fix3[ä½¿ç”¨æ”¯æŒçš„æ¨¡å‹]
    Tool --> Fix4[æ·»åŠ é”™è¯¯å¤„ç†]
    Perf --> Fix5[ä¼˜åŒ–ç“¶é¢ˆç¯èŠ‚]

    Fix1 --> Test[æµ‹è¯•ä¿®å¤]
    Fix2 --> Test
    Fix3 --> Test
    Fix4 --> Test
    Fix5 --> Test

    Test --> Success{é—®é¢˜è§£å†³ï¼Ÿ}
    Success -->|æ˜¯| End[å®Œæˆ]
    Success -->|å¦| Logs[æŸ¥çœ‹è¯¦ç»†æ—¥å¿—]

    Logs --> LangSmith[ä½¿ç”¨ LangSmith]
    LangSmith --> Community[ç¤¾åŒºæ±‚åŠ©]

    style Start fill:#3b82f6,color:#fff
    style End fill:#10b981,color:#fff
    style CheckError fill:#f59e0b,color:#fff
    style Success fill:#f59e0b,color:#fff
                        </div>
                    </div>
                </section>

                <!-- å¸¸è§é—®é¢˜ FAQ -->
                <section class="content-section">
                    <h2 class="section-title">â“ å¸¸è§é—®é¢˜ FAQ</h2>

                    <h3 class="subsection-subtitle">Q1: å¦‚ä½•æŸ¥çœ‹ Agent çš„æ‰§è¡Œè¿‡ç¨‹ï¼Ÿ</h3>
                    <p>
                        ä½¿ç”¨ <code>stream_mode=["updates"]</code> æŸ¥çœ‹æ¯ä¸ªèŠ‚ç‚¹çš„æ‰§è¡Œï¼Œ
                        æˆ–ä½¿ç”¨ LangSmith å¯è§†åŒ–è¿½è¸ªã€‚
                    </p>

                    <h3 class="subsection-subtitle">Q2: Agent ä¸€ç›´ä¸è¿”å›ç»“æœæ€ä¹ˆåŠï¼Ÿ</h3>
                    <p>
                        å¯èƒ½åŸå› ï¼š
                    </p>
                    <ul>
                        <li>é™·å…¥æ— é™å¾ªç¯ - è®¾ç½® <code>recursion_limit</code></li>
                        <li>ç­‰å¾…æ¨¡å‹å“åº” - æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œ API é…é¢</li>
                        <li>å·¥å…·æ‰§è¡Œæ…¢ - ä¼˜åŒ–å·¥å…·æˆ–æ·»åŠ è¶…æ—¶</li>
                    </ul>

                    <h3 class="subsection-subtitle">Q3: å¦‚ä½•è°ƒè¯•å·¥å…·è°ƒç”¨å¤±è´¥ï¼Ÿ</h3>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python"># 1. ç›´æ¥è°ƒç”¨å·¥å…·æµ‹è¯•
result = my_tool.invoke({"param": "value"})
print(result)

# 2. æ£€æŸ¥å·¥å…·å®šä¹‰
print(my_tool.name)
print(my_tool.description)
print(my_tool.args_schema)

# 3. æŸ¥çœ‹ Agent çš„å·¥å…·è°ƒç”¨
for msg in result["messages"]:
    if hasattr(msg, "tool_calls"):
        print(f"å·¥å…·è°ƒç”¨: {msg.tool_calls}")</code></pre>
                    </div>

                    <h3 class="subsection-subtitle">Q4: å¦‚ä½•å‡å°‘ Token æ¶ˆè€—ï¼Ÿ</h3>
                    <ul>
                        <li>ç²¾ç®€ç³»ç»Ÿæç¤ºè¯</li>
                        <li>ä½¿ç”¨ <code>SummarizationMiddleware</code> æ‘˜è¦å†å²å¯¹è¯</li>
                        <li>é™åˆ¶å·¥å…·è¿”å›çš„æ•°æ®é‡</li>
                        <li>ä½¿ç”¨æ›´å°çš„ Embedding æ¨¡å‹</li>
                    </ul>

                    <h3 class="subsection-subtitle">Q5: ç”Ÿäº§ç¯å¢ƒåº”è¯¥ç›‘æ§å“ªäº›æŒ‡æ ‡ï¼Ÿ</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>æŒ‡æ ‡ç±»å‹</th>
                                <th>å…·ä½“æŒ‡æ ‡</th>
                                <th>å‘Šè­¦é˜ˆå€¼</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>æ€§èƒ½</strong></td>
                                <td>P95 å“åº”æ—¶é—´</td>
                                <td>> 5s</td>
                            </tr>
                            <tr>
                                <td><strong>å¯é æ€§</strong></td>
                                <td>é”™è¯¯ç‡</td>
                                <td>> 1%</td>
                            </tr>
                            <tr>
                                <td><strong>æˆæœ¬</strong></td>
                                <td>æ¯æ—¥ Token æ¶ˆè€—</td>
                                <td>è¶…å‡ºé¢„ç®—</td>
                            </tr>
                            <tr>
                                <td><strong>è´¨é‡</strong></td>
                                <td>ç”¨æˆ·æ»¡æ„åº¦</td>
                                <td>< 4.0/5.0</td>
                            </tr>
                        </tbody>
                    </table>
                </section>

                <!-- é”™è¯¯ä»£ç é€ŸæŸ¥è¡¨ -->
                <section class="content-section">
                    <h2 class="section-title">ğŸ“‹ é”™è¯¯ä»£ç é€ŸæŸ¥è¡¨</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>é”™è¯¯ç±»å‹</th>
                                <th>å¸¸è§é”™è¯¯</th>
                                <th>å¿«é€Ÿä¿®å¤</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>ModuleNotFoundError</strong></td>
                                <td>langchain æœªå®‰è£…</td>
                                <td>pip install langchain</td>
                            </tr>
                            <tr>
                                <td><strong>ImportError</strong></td>
                                <td>å¯¼å…¥è·¯å¾„é”™è¯¯</td>
                                <td>æ£€æŸ¥å¯¼å…¥è¯­å¥</td>
                            </tr>
                            <tr>
                                <td><strong>AuthenticationError</strong></td>
                                <td>API å¯†é’¥æ— æ•ˆ</td>
                                <td>è®¾ç½®æ­£ç¡®çš„ç¯å¢ƒå˜é‡</td>
                            </tr>
                            <tr>
                                <td><strong>RateLimitError</strong></td>
                                <td>API é…é¢è¶…é™</td>
                                <td>æ·»åŠ é‡è¯•é€»è¾‘æˆ–å‡çº§è®¡åˆ’</td>
                            </tr>
                            <tr>
                                <td><strong>TimeoutError</strong></td>
                                <td>è¯·æ±‚è¶…æ—¶</td>
                                <td>å¢åŠ  timeout å‚æ•°</td>
                            </tr>
                            <tr>
                                <td><strong>ValueError</strong></td>
                                <td>å‚æ•°å€¼é”™è¯¯</td>
                                <td>æ£€æŸ¥å‚æ•°ç±»å‹å’ŒèŒƒå›´</td>
                            </tr>
                            <tr>
                                <td><strong>KeyError</strong></td>
                                <td>å­—æ®µä¸å­˜åœ¨</td>
                                <td>æ£€æŸ¥çŠ¶æ€ç»“æ„å’Œä¸Šä¸‹æ–‡</td>
                            </tr>
                            <tr>
                                <td><strong>ValidationError</strong></td>
                                <td>å·¥å…·å‚æ•°éªŒè¯å¤±è´¥</td>
                                <td>æ·»åŠ ç±»å‹æç¤ºå’ŒéªŒè¯</td>
                            </tr>
                        </tbody>
                    </table>
                </section>

                <!-- å‚è€ƒèµ„æº -->
                <section class="content-section">
                    <h2 class="section-title">ğŸ“– å‚è€ƒèµ„æº</h2>
                    <ul>
                        <li>
                            <a href="https://docs.smith.langchain.com/" target="_blank">
                                LangSmith è°ƒè¯•å·¥å…·
                            </a>
                        </li>
                        <li>
                            <a href="https://github.com/langchain-ai/langchain/issues" target="_blank">
                                LangChain GitHub Issues
                            </a>
                        </li>
                        <li>
                            <a href="https://discord.gg/langchain" target="_blank">
                                LangChain Discord ç¤¾åŒº
                            </a>
                        </li>
                        <li>
                            <a href="https://platform.openai.com/docs/guides/error-codes" target="_blank">
                                OpenAI é”™è¯¯ä»£ç æ–‡æ¡£
                            </a>
                        </li>
                    </ul>
                </section>

                <!-- é¡µé¢å¯¼èˆª -->
                                <nav class="page-navigation">
                    <a href="20-api-reference.html" class="nav-button prev">
                        â† ä¸Šä¸€é¡µ:API é€ŸæŸ¥è¡¨
                    </a>
                    <a href="22-migration.html" class="nav-button next">
                        ä¸‹ä¸€é¡µ:è¿ç§»æŒ‡å— â†’
                    </a>
                </nav>
            </div>
        </main>
    </div>

    <!-- è¿”å›é¡¶éƒ¨æŒ‰é’® -->
    <button class="back-to-top" aria-label="è¿”å›é¡¶éƒ¨">â†‘</button>

    <!-- JavaScript -->
    <script src="assets/js/mermaid-init.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
</body>
</html>
