<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="LangChain 1.0 è¿ç§»æŒ‡å— - ä» 0.x å‡çº§åˆ° 1.0 çš„å®Œæ•´æŒ‡å—">
    <title>è¿ç§»æŒ‡å— | LangChain 1.0 Python çŸ¥è¯†æ–‡æ¡£</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <button class="mobile-menu-button" aria-label="æ‰“å¼€èœå•">â˜°</button>

    <div class="container">
        <!-- ä¾§è¾¹æ å¯¼èˆª -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <h1 class="sidebar-title">ğŸ¦œ LangChain 1.0</h1>
                <p class="sidebar-subtitle">Python å®Œæ•´å­¦ä¹ æŒ‡å—</p>
            </div>

            <ul class="nav-menu">
                <li class="nav-section">
                    <div class="nav-section-title">å¼€å§‹</div>
                    <ul>
                        <li class="nav-item">
                            <a href="index.html" class="nav-link">
                                <span class="nav-icon">ğŸ </span>
                                ä¸»é¡µ
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="nav-section">
                    <div class="nav-section-title">åŸºç¡€ç¯‡</div>
                    <ul>
                        <li class="nav-item">
                            <a href="01-introduction.html" class="nav-link">
                                <span class="nav-icon">ğŸ“–</span>
                                LangChain ç®€ä»‹
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="02-architecture.html" class="nav-link">
                                <span class="nav-icon">ğŸ—ï¸</span>
                                æ ¸å¿ƒæ¶æ„
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="03-models.html" class="nav-link">
                                <span class="nav-icon">ğŸ¤–</span>
                                æ¨¡å‹æ¥å£
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="04-messages.html" class="nav-link">
                                <span class="nav-icon">ğŸ’¬</span>
                                æ¶ˆæ¯ç³»ç»Ÿ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="05-tools.html" class="nav-link">
                                <span class="nav-icon">ğŸ”§</span>
                                å·¥å…·ç³»ç»Ÿ
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="nav-section">
                    <div class="nav-section-title">è¿›é˜¶ç¯‡</div>
                    <ul>
                        <li class="nav-item">
                            <a href="06-agents.html" class="nav-link">
                                <span class="nav-icon">ğŸ¯</span>
                                Agent åŸºç¡€
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="07-middleware.html" class="nav-link">
                                <span class="nav-icon">âš™ï¸</span>
                                ä¸­é—´ä»¶ç³»ç»Ÿ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="08-rag.html" class="nav-link">
                                <span class="nav-icon">ğŸ”</span>
                                RAG è¯¦è§£
                                <span class="nav-badge">é‡ç‚¹</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="09-lcel.html" class="nav-link">
                                <span class="nav-icon">ğŸ”—</span>
                                LCEL è¡¨è¾¾å¼
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="nav-section">
                    <div class="nav-section-title">é«˜çº§åº”ç”¨</div>
                    <ul>
                        <li class="nav-item">
                            <a href="10-runtime.html" class="nav-link">
                                <span class="nav-icon">ğŸ”Œ</span>
                                Runtime ç³»ç»Ÿ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="11-checkpointer.html" class="nav-link">
                                <span class="nav-icon">ğŸ’¾</span>
                                æŒä¹…åŒ–ç³»ç»Ÿ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="12-streaming.html" class="nav-link">
                                <span class="nav-icon">ğŸŒŠ</span>
                                æµå¼è¾“å‡º
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="13-human-in-loop.html" class="nav-link">
                                <span class="nav-icon">ğŸ‘¤</span>
                                äººå·¥ä»‹å…¥
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="14-long-term-memory.html" class="nav-link">
                                <span class="nav-icon">ğŸ—„ï¸</span>
                                é•¿æœŸè®°å¿†
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="15-langgraph.html" class="nav-link">
                                <span class="nav-icon">ğŸ“Š</span>
                                LangGraph
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="nav-section">
                    <div class="nav-section-title">å®æˆ˜ç¯‡</div>
                    <ul>
                        <li class="nav-item">
                            <a href="16-customer-service.html" class="nav-link">
                                <span class="nav-icon">ğŸ‘¥</span>
                                å®¢æœæœºå™¨äºº
                                <span class="nav-badge">é‡ç‚¹</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="17-best-practices.html" class="nav-link">
                                <span class="nav-icon">âœ¨</span>
                                æœ€ä½³å®è·µ
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="nav-section">
                    <div class="nav-section-title">å‚è€ƒç¯‡</div>
                    <ul>
                        <li class="nav-item">
                            <a href="18-api-reference.html" class="nav-link">
                                <span class="nav-icon">ğŸ“š</span>
                                API é€ŸæŸ¥è¡¨
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="19-troubleshooting.html" class="nav-link">
                                <span class="nav-icon">ğŸ›</span>
                                æ•…éšœæ’é™¤
                            </a>
                        </li>
                        <li class="nav-item active">\n                            <a href="20-migration.html" class="nav-link">
                                <span class="nav-icon">ğŸ”„</span>
                                è¿ç§»æŒ‡å—
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="nav-section">
                    <div class="nav-section-title">æ‰©å±•ç¯‡</div>
                    <ul>
                        <li class="nav-item">
                            <a href="21-structured-output.html" class="nav-link">
                                <span class="nav-icon">ğŸ“Š</span>
                                ç»“æ„åŒ–è¾“å‡º
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="nav-section">
                    <div class="nav-section-title">DeepAgents ç¯‡</div>
                    <ul>
                        <li class="nav-item">
                            <a href="22-deepagents-quickstart.html" class="nav-link">
                                <span class="nav-icon">ğŸš€</span>
                                å¿«é€Ÿå¼€å§‹
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="23-deepagents-customization.html" class="nav-link">
                                <span class="nav-icon">ğŸ¨</span>
                                å®šåˆ¶åŒ–
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="24-deepagents-harness.html" class="nav-link">
                                <span class="nav-icon">ğŸ›ï¸</span>
                                Harness ç³»ç»Ÿ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="25-deepagents-backends.html" class="nav-link">
                                <span class="nav-icon">ğŸ”§</span>
                                åç«¯é…ç½®
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="26-deepagents-subagents.html" class="nav-link">
                                <span class="nav-icon">ğŸ‘¥</span>
                                å­ä»£ç†
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="27-deepagents-hitl.html" class="nav-link">
                                <span class="nav-icon">ğŸ¤</span>
                                äººå·¥ä»‹å…¥
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="28-deepagents-memory.html" class="nav-link">
                                <span class="nav-icon">ğŸ§ </span>
                                é•¿æœŸè®°å¿†
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="29-deepagents-middleware.html" class="nav-link">
                                <span class="nav-icon">âš™ï¸</span>
                                ä¸­é—´ä»¶
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="nav-section">
                    <div class="nav-section-title">Multi-Agent ç¯‡</div>
                    <ul>
                        <li class="nav-item">
                            <a href="30-multi-agent-index.html" class="nav-link">
                                <span class="nav-icon">ğŸŒ</span>
                                æ¦‚è¿°
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="31-multi-agent-subagents.html" class="nav-link">
                                <span class="nav-icon">ğŸ‘¥</span>
                                å­ä»£ç†
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="32-multi-agent-handoffs.html" class="nav-link">
                                <span class="nav-icon">ğŸ”„</span>
                                äº¤æ¥æœºåˆ¶
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="33-multi-agent-skills.html" class="nav-link">
                                <span class="nav-icon">ğŸ¯</span>
                                æŠ€èƒ½ç³»ç»Ÿ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="34-multi-agent-router.html" class="nav-link">
                                <span class="nav-icon">ğŸ§­</span>
                                è·¯ç”±æœºåˆ¶
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="35-multi-agent-workflow.html" class="nav-link">
                                <span class="nav-icon">ğŸ”€</span>
                                è‡ªå®šä¹‰å·¥ä½œæµ
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
        </nav>

        <!-- ä¸»å†…å®¹åŒºåŸŸ -->
        <main class="main-content">
            <div class="content-wrapper">
                <!-- é¢åŒ…å±‘å¯¼èˆª -->
                <nav class="breadcrumb">
                    <span class="breadcrumb-item">
                        <a href="index.html" class="breadcrumb-link">ä¸»é¡µ</a>
                    </span>
                    <span class="breadcrumb-item">
                        å‚è€ƒç¯‡
                    </span>
                    <span class="breadcrumb-item">
                        è¿ç§»æŒ‡å—
                    </span>
                </nav>

                <!-- é¡µé¢æ ‡é¢˜ -->
                <header class="page-header">
                    <h1 class="page-title">ğŸ”„ LangChain 1.0 è¿ç§»æŒ‡å—</h1>
                    <p class="page-subtitle">
                        ä» LangChain 0.x å¹³æ»‘å‡çº§åˆ° 1.0ï¼ŒæŒæ¡ API å˜åŒ–ã€æœ€ä½³å®è·µå’Œè¿ç§»ç­–ç•¥ã€‚
                    </p>
                </header>

                <!-- è¿ç§»æ¦‚è¿° -->
                <section class="content-section">
                    <h2 class="section-title">ğŸ“š ä¸ºä»€ä¹ˆè¦è¿ç§»åˆ° 1.0ï¼Ÿ</h2>
                    <p>
                        LangChain 1.0 æ˜¯ä¸€ä¸ªé‡å¤§æ›´æ–°ï¼Œå¸¦æ¥äº†ï¼š
                    </p>
                    <div class="info-box note">
                        <div class="info-box-title">ğŸ’¡ 1.0 çš„ä¸»è¦ä¼˜åŠ¿</div>
                        <table style="margin-top: 0.5rem;">
                            <thead>
                                <tr>
                                    <th>ç‰¹æ€§</th>
                                    <th>0.x ç‰ˆæœ¬</th>
                                    <th>1.0 ç‰ˆæœ¬</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>API ç¨³å®šæ€§</strong></td>
                                    <td>é¢‘ç¹å˜åŒ–</td>
                                    <td>ç¨³å®šçš„å…¬å…± API</td>
                                </tr>
                                <tr>
                                    <td><strong>Agent åˆ›å»º</strong></td>
                                    <td>å¤æ‚çš„æ‰‹åŠ¨é…ç½®</td>
                                    <td>ç®€å•çš„ create_agent()</td>
                                </tr>
                                <tr>
                                    <td><strong>ä¸­é—´ä»¶ç³»ç»Ÿ</strong></td>
                                    <td>ä¸æ”¯æŒ</td>
                                    <td>å®Œæ•´çš„ä¸­é—´ä»¶æ¶æ„</td>
                                </tr>
                                <tr>
                                    <td><strong>Runtime ä¸Šä¸‹æ–‡</strong></td>
                                    <td>æœ‰é™æ”¯æŒ</td>
                                    <td>ç±»å‹å®‰å…¨çš„ä¾èµ–æ³¨å…¥</td>
                                </tr>
                                <tr>
                                    <td><strong>æŒä¹…åŒ–</strong></td>
                                    <td>åŸºç¡€åŠŸèƒ½</td>
                                    <td>Checkpointer + Store åŒç³»ç»Ÿ</td>
                                </tr>
                                <tr>
                                    <td><strong>æ¨¡å‹æŠ½è±¡</strong></td>
                                    <td>ç‰¹å®šäºæä¾›å•†</td>
                                    <td>ç»Ÿä¸€çš„ init_chat_model()</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="info-box warning">
                        <div class="info-box-title">âš ï¸ é‡è¦æé†’</div>
                        <p>
                            <strong>LangChain 1.0 ä¸å‘åå…¼å®¹ 0.x çš„éƒ¨åˆ† API</strong>ã€‚
                            å¦‚æœéœ€è¦ç»§ç»­ä½¿ç”¨ 0.x çš„ APIï¼Œå¯ä»¥å®‰è£… <code>langchain-classic</code> åŒ…ã€‚
                        </p>
                    </div>
                </section>

                <!-- è¿ç§»æµç¨‹å›¾ -->
                <section class="content-section">
                    <h2 class="section-title">ğŸ—ºï¸ è¿ç§»æµç¨‹</h2>
                    <div class="mermaid-wrapper">
                        <div class="mermaid">
graph TB
    Start[å¼€å§‹è¿ç§»] --> Backup[å¤‡ä»½ç°æœ‰ä»£ç ]
    Backup --> Install[å®‰è£… LangChain 1.0]

    Install --> Evaluate{è¯„ä¼°è¿ç§»ç­–ç•¥}

    Evaluate -->|å®Œå…¨è¿ç§»| NewAPI[ä½¿ç”¨ 1.0 æ–° API]
    Evaluate -->|æ¸è¿›è¿ç§»| Classic[ä½¿ç”¨ langchain-classic]

    NewAPI --> Update1[æ›´æ–°å¯¼å…¥è¯­å¥]
    Update1 --> Update2[æ›¿æ¢ API è°ƒç”¨]
    Update2 --> Update3[é‡æ„ Agent åˆ›å»º]
    Update3 --> Test1[è¿è¡Œæµ‹è¯•]

    Classic --> Install2[å®‰è£… langchain-classic]
    Install2 --> Update4[éƒ¨åˆ†ä½¿ç”¨æ–° API]
    Update4 --> Test2[è¿è¡Œæµ‹è¯•]

    Test1 --> Fix{æœ‰é”™è¯¯ï¼Ÿ}
    Test2 --> Fix

    Fix -->|æ˜¯| Debug[è°ƒè¯•å’Œä¿®å¤]
    Fix -->|å¦| Verify[éªŒè¯åŠŸèƒ½]

    Debug --> Test1

    Verify --> Deploy[éƒ¨ç½²åˆ°ç”Ÿäº§]
    Deploy --> End[è¿ç§»å®Œæˆ]

    style Start fill:#3b82f6,color:#fff
    style End fill:#10b981,color:#fff
    style Evaluate fill:#f59e0b,color:#fff
    style Fix fill:#f59e0b,color:#fff
                        </div>
                    </div>
                </section>

                <!-- ä¸»è¦ API å˜åŒ– -->
                <section class="content-section">
                    <h2 class="section-title">ğŸ”„ ä¸»è¦ API å˜åŒ–å¯¹ç…§è¡¨</h2>

                    <h3 class="subsection-title">1. æ¨¡å‹åˆå§‹åŒ–</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>0.x ç‰ˆæœ¬</th>
                                <th>1.0 ç‰ˆæœ¬</th>
                                <th>è¯´æ˜</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>ChatOpenAI(...)</code></td>
                                <td><code>init_chat_model("gpt-4o", ...)</code></td>
                                <td>æ¨èä½¿ç”¨ç»Ÿä¸€åˆå§‹åŒ–å‡½æ•°</td>
                            </tr>
                            <tr>
                                <td><code>OpenAIEmbeddings(...)</code></td>
                                <td><code>init_embeddings("text-embedding-3-small", ...)</code></td>
                                <td>ç»Ÿä¸€çš„åµŒå…¥æ¨¡å‹åˆå§‹åŒ–</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python"># âŒ 0.x ç‰ˆæœ¬
from langchain.chat_models import ChatOpenAI
model = ChatOpenAI(model_name="gpt-4", temperature=0.7)

# âœ… 1.0 ç‰ˆæœ¬ï¼ˆæ¨èï¼‰
from langchain import init_chat_model
model = init_chat_model("gpt-4o", model_provider="openai", temperature=0.7)

# âœ… 1.0 ç‰ˆæœ¬ï¼ˆä»ç„¶æ”¯æŒï¼‰
from langchain_openai import ChatOpenAI
model = ChatOpenAI(model="gpt-4o", temperature=0.7)</code></pre>
                    </div>

                    <h3 class="subsection-title">2. Agent åˆ›å»º</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>0.x ç‰ˆæœ¬</th>
                                <th>1.0 ç‰ˆæœ¬</th>
                                <th>è¯´æ˜</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>initialize_agent(...)</code></td>
                                <td><code>create_agent(...)</code></td>
                                <td>å…¨æ–°çš„ Agent åˆ›å»º API</td>
                            </tr>
                            <tr>
                                <td><code>AgentExecutor.from_agent_and_tools(...)</code></td>
                                <td><code>create_agent(...)</code></td>
                                <td>ç»Ÿä¸€çš„åˆ›å»ºæ–¹å¼</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python"># âŒ 0.x ç‰ˆæœ¬
from langchain.agents import initialize_agent, AgentType

agent = initialize_agent(
    tools=tools,
    llm=llm,
    agent=AgentType.ZERO_SHOT_REACT_DESCRIPTION,
    verbose=True
)

# âœ… 1.0 ç‰ˆæœ¬
from langchain.agents import create_agent

agent = create_agent(
    model="gpt-4o",
    tools=tools,
    system_prompt="ä½ æ˜¯ä¸“ä¸šçš„ AI åŠ©æ‰‹"
)</code></pre>
                    </div>

                    <h3 class="subsection-title">3. é“¾ï¼ˆChainsï¼‰</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>0.x ç‰ˆæœ¬</th>
                                <th>1.0 ç‰ˆæœ¬</th>
                                <th>è¯´æ˜</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>LLMChain</code></td>
                                <td>LCEL ç®¡é“æˆ– Agent</td>
                                <td>ä½¿ç”¨ LCEL æ›¿ä»£</td>
                            </tr>
                            <tr>
                                <td><code>SimpleSequentialChain</code></td>
                                <td>LCEL <code>|</code> æ“ä½œç¬¦</td>
                                <td>ä½¿ç”¨ç®¡é“æ“ä½œç¬¦</td>
                            </tr>
                            <tr>
                                <td><code>RetrievalQA</code></td>
                                <td>Agent + RAG å·¥å…·</td>
                                <td>ä½¿ç”¨ Agentic RAG</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python"># âŒ 0.x ç‰ˆæœ¬
from langchain.chains import LLMChain
from langchain.prompts import PromptTemplate

prompt = PromptTemplate.from_template("ç¿»è¯‘: {text}")
chain = LLMChain(llm=llm, prompt=prompt)
result = chain.run(text="Hello")

# âœ… 1.0 ç‰ˆæœ¬ï¼ˆLCELï¼‰
from langchain_core.prompts import ChatPromptTemplate

prompt = ChatPromptTemplate.from_template("ç¿»è¯‘: {text}")
chain = prompt | model
result = chain.invoke({"text": "Hello"})</code></pre>
                    </div>

                    <h3 class="subsection-title">4. å†…å­˜ç®¡ç†</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>0.x ç‰ˆæœ¬</th>
                                <th>1.0 ç‰ˆæœ¬</th>
                                <th>è¯´æ˜</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>ConversationBufferMemory</code></td>
                                <td>Checkpointer</td>
                                <td>ä½¿ç”¨æŒä¹…åŒ–ç³»ç»Ÿ</td>
                            </tr>
                            <tr>
                                <td><code>ConversationSummaryMemory</code></td>
                                <td>SummarizationMiddleware</td>
                                <td>ä½¿ç”¨ä¸­é—´ä»¶</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python"># âŒ 0.x ç‰ˆæœ¬
from langchain.memory import ConversationBufferMemory

memory = ConversationBufferMemory()
agent = initialize_agent(tools, llm, memory=memory)

# âœ… 1.0 ç‰ˆæœ¬
from langgraph.checkpoint.memory import InMemorySaver

checkpointer = InMemorySaver()
agent = create_agent(
    model="gpt-4o",
    tools=tools,
    checkpointer=checkpointer
)

# ä½¿ç”¨ thread_id ç®¡ç†å¯¹è¯
config = {"configurable": {"thread_id": "user_001"}}
agent.invoke({"messages": [...]}, config=config)</code></pre>
                    </div>
                </section>

                <!-- åºŸå¼ƒåŠŸèƒ½ -->
                <section class="content-section">
                    <h2 class="section-title">ğŸš« åºŸå¼ƒåŠŸèƒ½å’Œæ›¿ä»£æ–¹æ¡ˆ</h2>

                    <table>
                        <thead>
                            <tr>
                                <th>åºŸå¼ƒåŠŸèƒ½ï¼ˆ0.xï¼‰</th>
                                <th>æ›¿ä»£æ–¹æ¡ˆï¼ˆ1.0ï¼‰</th>
                                <th>è¿ç§»éš¾åº¦</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>LLMChain</code></td>
                                <td>LCEL ç®¡é“ æˆ– Agent</td>
                                <td>ğŸŸ¡ ä¸­ç­‰</td>
                            </tr>
                            <tr>
                                <td><code>initialize_agent()</code></td>
                                <td><code>create_agent()</code></td>
                                <td>ğŸŸ¢ ç®€å•</td>
                            </tr>
                            <tr>
                                <td><code>ConversationBufferMemory</code></td>
                                <td>Checkpointer</td>
                                <td>ğŸŸ¡ ä¸­ç­‰</td>
                            </tr>
                            <tr>
                                <td><code>RetrievalQA</code></td>
                                <td>Agent + RAG å·¥å…·</td>
                                <td>ğŸŸ¡ ä¸­ç­‰</td>
                            </tr>
                            <tr>
                                <td><code>SimpleSequentialChain</code></td>
                                <td>LCEL <code>|</code> æ“ä½œç¬¦</td>
                                <td>ğŸŸ¢ ç®€å•</td>
                            </tr>
                            <tr>
                                <td><code>VectorDBQA</code></td>
                                <td>Agent + æ£€ç´¢å·¥å…·</td>
                                <td>ğŸŸ¡ ä¸­ç­‰</td>
                            </tr>
                            <tr>
                                <td>æ—§çš„ Callback ç³»ç»Ÿ</td>
                                <td>Middleware ç³»ç»Ÿ</td>
                                <td>ğŸ”´ è¾ƒéš¾</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="info-box tip">
                        <div class="info-box-title">âœ… è¿ç§»å»ºè®®</div>
                        <ul>
                            <li><strong>ä¼˜å…ˆè¿ç§»ç®€å•çš„ API</strong>ï¼šå…ˆä»æ¨¡å‹åˆå§‹åŒ–å’Œ Agent åˆ›å»ºå¼€å§‹</li>
                            <li><strong>åˆ†æ¨¡å—è¿ç§»</strong>ï¼šä¸è¦ä¸€æ¬¡æ€§è¿ç§»æ‰€æœ‰ä»£ç </li>
                            <li><strong>ä¿ç•™æµ‹è¯•</strong>ï¼šç¡®ä¿æ¯æ¬¡è¿ç§»åæµ‹è¯•é€šè¿‡</li>
                            <li><strong>ä½¿ç”¨ langchain-classic</strong>ï¼šå¯¹äºå¤æ‚çš„æ—§ä»£ç ï¼Œå¯ä»¥æš‚æ—¶ä½¿ç”¨å…¼å®¹åŒ…</li>
                        </ul>
                    </div>
                </section>

                <!-- langchain-classic -->
                <section class="content-section">
                    <h2 class="section-title">ğŸ“¦ ä½¿ç”¨ langchain-classic</h2>
                    <p>
                        å¦‚æœéœ€è¦ç»§ç»­ä½¿ç”¨ 0.x çš„ APIï¼Œå¯ä»¥å®‰è£… <code>langchain-classic</code> åŒ…ã€‚
                        è¿™å…è®¸ä½ åœ¨è¿ç§»è¿‡ç¨‹ä¸­é€æ­¥æ›¿æ¢æ—§ä»£ç ã€‚
                    </p>

                    <h3 class="subsection-title">å®‰è£… langchain-classic</h3>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Bash</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-bash"># å®‰è£… langchain-classic
pip install langchain-classic

# åŒæ—¶å®‰è£… LangChain 1.0
pip install langchain>=1.0.0</code></pre>
                    </div>

                    <h3 class="subsection-title">æ··åˆä½¿ç”¨ç¤ºä¾‹</h3>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python"># ä½¿ç”¨ 1.0 çš„æ–° API
from langchain import init_chat_model
from langchain.agents import create_agent

model = init_chat_model("gpt-4o", model_provider="openai")

# ä½¿ç”¨ langchain-classic çš„æ—§ API
from langchain_classic.chains import LLMChain
from langchain_classic.prompts import PromptTemplate

prompt = PromptTemplate.from_template("ç¿»è¯‘: {text}")
old_chain = LLMChain(llm=model, prompt=prompt)

# åœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­æ··åˆä½¿ç”¨
result = old_chain.run(text="Hello")</code></pre>
                    </div>

                    <div class="info-box warning">
                        <div class="info-box-title">âš ï¸ æ³¨æ„äº‹é¡¹</div>
                        <p>
                            <code>langchain-classic</code> ä»…ç”¨äºè¿‡æ¸¡æœŸï¼Œä¸ä¼šè·å¾—æ–°åŠŸèƒ½æ›´æ–°ã€‚
                            å»ºè®®å°½å¿«å®Œæˆè¿ç§»åˆ° 1.0 APIã€‚
                        </p>
                    </div>
                </section>

                <!-- è¿ç§»æ­¥éª¤ -->
                <section class="content-section">
                    <h2 class="section-title">ğŸ“ è¯¦ç»†è¿ç§»æ­¥éª¤</h2>

                    <h3 class="subsection-title">æ­¥éª¤ 1: å‡†å¤‡å·¥ä½œ</h3>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Bash</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-bash"># 1. å¤‡ä»½ç°æœ‰ä»£ç 
git commit -am "Backup before LangChain 1.0 migration"

# 2. åˆ›å»ºæ–°åˆ†æ”¯
git checkout -b migration-to-v1

# 3. å‡çº§åˆ° LangChain 1.0
pip install --upgrade langchain langchain-openai langchain-anthropic

# 4. æŸ¥çœ‹å½“å‰ç‰ˆæœ¬
python -c "import langchain; print(langchain.__version__)"</code></pre>
                    </div>

                    <h3 class="subsection-title">æ­¥éª¤ 2: æ›´æ–°å¯¼å…¥è¯­å¥</h3>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python"># âŒ æ—§çš„å¯¼å…¥ï¼ˆ0.xï¼‰
from langchain.chat_models import ChatOpenAI
from langchain.agents import initialize_agent, AgentType
from langchain.chains import LLMChain
from langchain.memory import ConversationBufferMemory

# âœ… æ–°çš„å¯¼å…¥ï¼ˆ1.0ï¼‰
from langchain import init_chat_model
from langchain.agents import create_agent
from langchain_core.prompts import ChatPromptTemplate
from langgraph.checkpoint.memory import InMemorySaver</code></pre>
                    </div>

                    <h3 class="subsection-title">æ­¥éª¤ 3: æ›¿æ¢ Agent åˆ›å»º</h3>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python"># âŒ 0.x ç‰ˆæœ¬
llm = ChatOpenAI(model_name="gpt-4", temperature=0.7)
memory = ConversationBufferMemory()

agent = initialize_agent(
    tools=tools,
    llm=llm,
    agent=AgentType.ZERO_SHOT_REACT_DESCRIPTION,
    memory=memory,
    verbose=True
)

# âœ… 1.0 ç‰ˆæœ¬
checkpointer = InMemorySaver()

agent = create_agent(
    model="gpt-4o",
    tools=tools,
    checkpointer=checkpointer,
    system_prompt="ä½ æ˜¯ä¸“ä¸šçš„ AI åŠ©æ‰‹"
)

# è°ƒç”¨æ—¶ä¼ å…¥ config
config = {"configurable": {"thread_id": "user_001"}}
result = agent.invoke({"messages": [...]}, config=config)</code></pre>
                    </div>

                    <h3 class="subsection-title">æ­¥éª¤ 4: æ›¿æ¢é“¾ï¼ˆChainsï¼‰</h3>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python"># âŒ 0.x ç‰ˆæœ¬
from langchain.chains import LLMChain, SimpleSequentialChain
from langchain.prompts import PromptTemplate

# é“¾ 1ï¼šç¿»è¯‘
translate_prompt = PromptTemplate.from_template("ç¿»è¯‘æˆè‹±æ–‡: {text}")
translate_chain = LLMChain(llm=llm, prompt=translate_prompt)

# é“¾ 2ï¼šæ€»ç»“
summarize_prompt = PromptTemplate.from_template("æ€»ç»“: {text}")
summarize_chain = LLMChain(llm=llm, prompt=summarize_prompt)

# ç»„åˆé“¾
overall_chain = SimpleSequentialChain(
    chains=[translate_chain, summarize_chain]
)

# âœ… 1.0 ç‰ˆæœ¬ï¼ˆLCELï¼‰
from langchain_core.prompts import ChatPromptTemplate

translate_prompt = ChatPromptTemplate.from_template("ç¿»è¯‘æˆè‹±æ–‡: {text}")
summarize_prompt = ChatPromptTemplate.from_template("æ€»ç»“: {text}")

# ä½¿ç”¨ç®¡é“æ“ä½œç¬¦ç»„åˆ
chain = (
    translate_prompt
    | model
    | (lambda x: {"text": x.content})
    | summarize_prompt
    | model
)

result = chain.invoke({"text": "ä½ å¥½ä¸–ç•Œ"})</code></pre>
                    </div>

                    <h3 class="subsection-title">æ­¥éª¤ 5: æµ‹è¯•å’ŒéªŒè¯</h3>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python"># è¿è¡Œç°æœ‰æµ‹è¯•
pytest tests/

# æ‰‹åŠ¨æµ‹è¯•å…³é”®åŠŸèƒ½
def test_migration():
    """æµ‹è¯•è¿ç§»åçš„åŠŸèƒ½"""
    from langchain.agents import create_agent

    agent = create_agent(
        model="gpt-4o",
        tools=[],
        system_prompt="ä½ æ˜¯ AI åŠ©æ‰‹"
    )

    result = agent.invoke({
        "messages": [{"role": "user", "content": "ä½ å¥½"}]
    })

    assert len(result["messages"]) > 0
    print("âœ… è¿ç§»æˆåŠŸï¼")

if __name__ == "__main__":
    test_migration()</code></pre>
                    </div>
                </section>

                <!-- è¿ç§»æ£€æŸ¥æ¸…å• -->
                <section class="content-section">
                    <h2 class="section-title">âœ… è¿ç§»æ£€æŸ¥æ¸…å•</h2>

                    <div class="info-box tip">
                        <div class="info-box-title">ğŸ“‹ å®Œæ•´æ£€æŸ¥æ¸…å•</div>
                        <table style="margin-top: 0.5rem;">
                            <thead>
                                <tr>
                                    <th>æ£€æŸ¥é¡¹</th>
                                    <th>è¯´æ˜</th>
                                    <th>çŠ¶æ€</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>å¤‡ä»½ä»£ç </strong></td>
                                    <td>ä½¿ç”¨ Git æäº¤å½“å‰çŠ¶æ€</td>
                                    <td>â˜</td>
                                </tr>
                                <tr>
                                    <td><strong>å‡çº§åŒ…</strong></td>
                                    <td>pip install --upgrade langchain</td>
                                    <td>â˜</td>
                                </tr>
                                <tr>
                                    <td><strong>æ›´æ–°å¯¼å…¥</strong></td>
                                    <td>æ›¿æ¢æ‰€æœ‰ import è¯­å¥</td>
                                    <td>â˜</td>
                                </tr>
                                <tr>
                                    <td><strong>æ›¿æ¢æ¨¡å‹åˆå§‹åŒ–</strong></td>
                                    <td>ä½¿ç”¨ init_chat_model()</td>
                                    <td>â˜</td>
                                </tr>
                                <tr>
                                    <td><strong>æ›¿æ¢ Agent åˆ›å»º</strong></td>
                                    <td>ä½¿ç”¨ create_agent()</td>
                                    <td>â˜</td>
                                </tr>
                                <tr>
                                    <td><strong>æ›¿æ¢é“¾</strong></td>
                                    <td>ä½¿ç”¨ LCEL æˆ– Agent</td>
                                    <td>â˜</td>
                                </tr>
                                <tr>
                                    <td><strong>æ›¿æ¢å†…å­˜ç®¡ç†</strong></td>
                                    <td>ä½¿ç”¨ Checkpointer</td>
                                    <td>â˜</td>
                                </tr>
                                <tr>
                                    <td><strong>è¿è¡Œæµ‹è¯•</strong></td>
                                    <td>ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡</td>
                                    <td>â˜</td>
                                </tr>
                                <tr>
                                    <td><strong>æ€§èƒ½æµ‹è¯•</strong></td>
                                    <td>éªŒè¯æ€§èƒ½æ²¡æœ‰é€€åŒ–</td>
                                    <td>â˜</td>
                                </tr>
                                <tr>
                                    <td><strong>æ–‡æ¡£æ›´æ–°</strong></td>
                                    <td>æ›´æ–°å†…éƒ¨æ–‡æ¡£å’Œæ³¨é‡Š</td>
                                    <td>â˜</td>
                                </tr>
                                <tr>
                                    <td><strong>éƒ¨ç½²æµ‹è¯•</strong></td>
                                    <td>åœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯</td>
                                    <td>â˜</td>
                                </tr>
                                <tr>
                                    <td><strong>ç”Ÿäº§éƒ¨ç½²</strong></td>
                                    <td>é€æ­¥ç°åº¦å‘å¸ƒ</td>
                                    <td>â˜</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- å¸¸è§è¿ç§»é—®é¢˜ -->
                <section class="content-section">
                    <h2 class="section-title">â“ å¸¸è§è¿ç§»é—®é¢˜</h2>

                    <h3 class="subsection-subtitle">Q1: å¿…é¡»ç«‹å³è¿ç§»åˆ° 1.0 å—ï¼Ÿ</h3>
                    <p>
                        <strong>ä¸æ˜¯å¿…é¡»</strong>ï¼Œä½†å¼ºçƒˆæ¨èã€‚LangChain 0.x å°†é€æ­¥åœæ­¢ç»´æŠ¤ã€‚
                        ä½ å¯ä»¥ï¼š
                    </p>
                    <ul>
                        <li>ä½¿ç”¨ <code>langchain-classic</code> ç»§ç»­è¿è¡Œæ—§ä»£ç </li>
                        <li>é€æ­¥è¿ç§»ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§å…¨éƒ¨è¿ç§»</li>
                        <li>ä¼˜å…ˆè¿ç§»æ–°åŠŸèƒ½ï¼Œæ—§åŠŸèƒ½å¯ä»¥æš‚ç¼“</li>
                    </ul>

                    <h3 class="subsection-subtitle">Q2: è¿ç§»éœ€è¦å¤šé•¿æ—¶é—´ï¼Ÿ</h3>
                    <p>
                        å–å†³äºä»£ç è§„æ¨¡ï¼š
                    </p>
                    <table>
                        <thead>
                            <tr>
                                <th>é¡¹ç›®è§„æ¨¡</th>
                                <th>é¢„ä¼°æ—¶é—´</th>
                                <th>å»ºè®®ç­–ç•¥</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>å°å‹ï¼ˆ< 1000 è¡Œï¼‰</td>
                                <td>1-2 å¤©</td>
                                <td>ä¸€æ¬¡æ€§è¿ç§»</td>
                            </tr>
                            <tr>
                                <td>ä¸­å‹ï¼ˆ1000-5000 è¡Œï¼‰</td>
                                <td>1-2 å‘¨</td>
                                <td>åˆ†æ¨¡å—è¿ç§»</td>
                            </tr>
                            <tr>
                                <td>å¤§å‹ï¼ˆ> 5000 è¡Œï¼‰</td>
                                <td>1-2 æœˆ</td>
                                <td>æ¸è¿›å¼è¿ç§» + langchain-classic</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3 class="subsection-subtitle">Q3: æ€§èƒ½ä¼šæœ‰å˜åŒ–å—ï¼Ÿ</h3>
                    <p>
                        ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œ1.0 ç‰ˆæœ¬æ€§èƒ½<strong>æ›´å¥½</strong>ï¼š
                    </p>
                    <ul>
                        <li>æ›´é«˜æ•ˆçš„çŠ¶æ€ç®¡ç†</li>
                        <li>æ›´å¥½çš„æµå¼è¾“å‡ºæ”¯æŒ</li>
                        <li>ä¸­é—´ä»¶å¸¦æ¥çš„çµæ´»æ€§</li>
                    </ul>

                    <h3 class="subsection-subtitle">Q4: å¦‚ä½•å¤„ç†å¤§é‡çš„ LLMChainï¼Ÿ</h3>
                    <p>
                        <strong>ç­–ç•¥ 1</strong>ï¼šä½¿ç”¨ LCEL é‡å†™ï¼ˆæ¨èï¼‰
                    </p>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python"># LCEL æ›´ç®€æ´ã€æ›´å¼ºå¤§
chain = prompt | model</code></pre>
                    </div>

                    <p>
                        <strong>ç­–ç•¥ 2</strong>ï¼šä½¿ç”¨ langchain-classic ä¿ç•™æ—§ä»£ç 
                    </p>
                    <div class="code-block-wrapper">
                        <div class="code-block-header">
                            <span class="code-language">Python</span>
                            <button class="copy-button">å¤åˆ¶ä»£ç </button>
                        </div>
                        <pre><code class="language-python">from langchain_classic.chains import LLMChain
# ä¿æŒåŸæœ‰ä»£ç ä¸å˜</code></pre>
                    </div>

                    <h3 class="subsection-subtitle">Q5: 1.0 æœ‰å“ªäº›æ–°åŠŸèƒ½å€¼å¾—ä½¿ç”¨ï¼Ÿ</h3>
                    <ul>
                        <li><strong>ä¸­é—´ä»¶ç³»ç»Ÿ</strong>ï¼šPII ä¿æŠ¤ã€æ‘˜è¦ã€æ—¥å¿—ç­‰</li>
                        <li><strong>Runtime ä¸Šä¸‹æ–‡</strong>ï¼šç±»å‹å®‰å…¨çš„ä¾èµ–æ³¨å…¥</li>
                        <li><strong>Checkpointer + Store</strong>ï¼šæ›´å¼ºå¤§çš„æŒä¹…åŒ–</li>
                        <li><strong>ç»Ÿä¸€çš„æ¨¡å‹æ¥å£</strong>ï¼šè·¨æä¾›å•†å…¼å®¹</li>
                        <li><strong>æ›´å¥½çš„æµå¼è¾“å‡º</strong>ï¼šå¤šç§ stream_mode</li>
                    </ul>
                </section>

                <!-- å‚è€ƒèµ„æº -->
                <section class="content-section">
                    <h2 class="section-title">ğŸ“– å‚è€ƒèµ„æº</h2>
                    <ul>
                        <li>
                            <a href="https://docs.langchain.com/oss/python/langchain/migration" target="_blank">
                                å®˜æ–¹è¿ç§»æŒ‡å—
                            </a>
                        </li>
                        <li>
                            <a href="https://docs.langchain.com/oss/python/langchain/changelog" target="_blank">
                                å®Œæ•´æ›´æ–°æ—¥å¿—
                            </a>
                        </li>
                        <li>
                            <a href="https://github.com/langchain-ai/langchain/releases" target="_blank">
                                GitHub Release Notes
                            </a>
                        </li>
                        <li>
                            <a href="https://pypi.org/project/langchain-classic/" target="_blank">
                                langchain-classic PyPI é¡µé¢
                            </a>
                        </li>
                    </ul>
                </section>

                <!-- é¡µé¢å¯¼èˆª -->
                                <nav class="page-navigation">
                    <a href="19-troubleshooting.html" class="nav-button prev">
                        â† ä¸Šä¸€é¡µï¼šæ•…éšœæ’é™¤
                    </a>
                    <a href="21-structured-output.html" class="nav-button next">
                        ä¸‹ä¸€é¡µï¼šç»“æ„åŒ–è¾“å‡º â†’
                    </a>
                </nav>
            </div>
        </main>
    </div>

    <!-- è¿”å›é¡¶éƒ¨æŒ‰é’® -->
    <button class="back-to-top" aria-label="è¿”å›é¡¶éƒ¨">â†‘</button>

    <!-- JavaScript -->
    <script src="assets/js/mermaid-init.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
</body>
</html>
